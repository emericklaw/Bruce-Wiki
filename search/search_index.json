{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<ol> <li>What Is Bruce?</li> <li>What Is Bruce For?</li> <li>FAQ</li> </ol>"},{"location":"#what-is-bruce","title":"What Is Bruce?","text":"<p>Bruce is meant to be a versatile ESP32 firmware that supports a ton of offensive features focusing to facilitate on Red Team operations. It also supports m5stack products and works great with Cardputer and Sticks.</p> <p></p>"},{"location":"#what-is-bruce-for","title":"What Is Bruce For?","text":"<p>Bruce stems from a keen observation within the community focused on devices like Flipper Zero. While these devices offered a glimpse into the world of offensive security, there was a palpable sense that something more could be achieved without being that overpriced, particularly with the robust and modular hardware ecosystem provided by m5stack products.</p>"},{"location":"BLE/","title":"BLE","text":""},{"location":"BLE/#disconnect-ble","title":"Disconnect BLE","text":"<p>If BLE is currently active, use this option to disconnect. No further explanation needed.</p>"},{"location":"BLE/#media-commands","title":"Media Commands","text":"<p>Control your smartphone\u2019s media functions(works with mostly all Android devices): - Take screenshots - Play/pause music - Stop playback, and more!</p>"},{"location":"BLE/#ble-scan","title":"BLE Scan","text":"<p>Scan for nearby Bluetooth Low Energy (BLE) devices effortlessly.</p>"},{"location":"BLE/#badble","title":"BadBLE","text":"<p>Simulate a keyboard to deploy DuckyScripts to paired devices. Note: - The device must be previously paired for this feature to work. - After disconnecting BLE, you need to restart the device to enable this functionality again.</p>"},{"location":"BLE/#ble-spam-features","title":"BLE Spam Features","text":""},{"location":"BLE/#ios-spams","title":"iOS Spams","text":"<p>Sends bluetooth device pairing following AppleJuice and SourApple packet samples - AppleJuice: iOS Bluetooth pairing spam. - SourApple: iOS Bluetooth crash exploit.</p>"},{"location":"BLE/#swiftpair-spamming","title":"SwiftPair Spamming","text":"<p>Send Bluetooth device pairing notifications for Windows (SwiftPair)  </p>"},{"location":"BLE/#android-spam","title":"Android Spam","text":"<p>Bluetooth pairing notification spamming for Android devices (added in version 1.0.0).  </p>"},{"location":"BLE/#samsung-devices","title":"Samsung Devices","text":"<p>Bluetooth notification spamming for Samsung devices (added in version 1.0.0).  </p>"},{"location":"BLE/#spam-all","title":"Spam All","text":"<p>A universal option to spam all supported devices simultaneously, it is more effective in controlled environments)</p>"},{"location":"BLE/#ibeacon","title":"iBeacon","text":"<p>Simulate an Apple iBeacon/Airtag. It can be tracked with an app like Beacon Locator, which also provides an estimation of the distance.</p>"},{"location":"Building-from-source/","title":"VS Code","text":"<p>You can open the project folder on Visual Studio Code with PlatformIO extension and click on \"PlatformIO: Build\" on the bottom. After compiling the project, you need to merge the bootloader, partitions and the actual firmware on a single one, for that you can run the PlatformIO Custom task named \"build-firmware\" to output the single combined binary. With this you will have 5 .bin files on the project folder, with they being the build for M5Cardputer, M5StickC Plus 1.1, M5StickC Plus 2, M5core and M5Core2. </p>"},{"location":"Building-from-source/#linux-build","title":"LINUX BUILD","text":"<p>Requirements <pre><code>sudo apt update\nsudo apt install python3-pip git\npip3 install platformio\nexport PATH=$PATH:~/.local/bin\nsource ~/.bashrc\necho 'export PATH=$PATH:~/.local/bin' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\ngit clone https://github.com/pr3y/Bruce.git\ncd Bruce\n</code></pre> Fedora based just change to <pre><code>sudo dnf update\nsudo dnf install python3-pip git\n</code></pre></p> <p>Step by Step to build the project</p> <pre><code>pio run --target clean\npio run -e m5stack-cardputer\npio run -e m5stack-cplus2\npio run -e m5stack-cplus1_1 \n# or pio run to all builds\n# pio run\npio run -e m5stack-cardputer -t build-firmware\npio run -e m5stack-cplus2 -t build-firmware\npio run -e m5stack-cplus1_1 -t build-firmware\n</code></pre>"},{"location":"Building-from-source/#windows-build","title":"Windows build","text":"<ul> <li>Install Git</li> <li>Install Python using the Microsoft Store</li> <li>Install VSCode</li> <li>Download the repository and extract it somewhere you want</li> <li>Within VSCode, <code>File&gt;Open Folder...</code> and select the folder of the firmware</li> <li>If it doesn't prompt to install Platformio, click on \"Extentions\" (4 swares icon on the left) and install Platformio (and restart VsCode)</li> <li>In the Status bar (down on the screen) click where is written <code>Default (Bruce-main)</code></li> <li>A little Menu will appear in the Search bar (up on screen), select your device \"env\"</li> <li>Now click in the :heavy_check_mark: Icon in the Status Bar (beside the cute little House), it will start building your project</li> <li>if you want to upload directly, you can do it clicking in the \"-&gt;\" arrow to upload to your device</li> <li>If you want to output a binary you can flash, use the \"build-firmware\" Custom task in the PlatformIO Extension Sidebar Menu named \"project tasks\"</li> </ul>"},{"location":"Building-from-source/#github","title":"Github","text":"<p>You can also use the Github workflow to build the binaries for you with Actions, the last releases are also available there on the Artefacts, but you can also fork the project and make the changes you want to this, then build on your own Actions also.</p>"},{"location":"CC1101/","title":"CC1101","text":"<p>To use the CC1101 in Bruce, turn off your M5 device and connect the module following the pinouts listed in this page.</p> <p>Turn on the device, then navigate to \"RF-&gt;Config-&gt;RF Module\" and select \"CC1101 on SPI\" (pics here).</p> <p>If the \"CC1101 not found\" error message appears, turn off the M5 device, recheck the wiring and try again.</p> <p>If no error is shown, then the CC1101 is initted correctly, and you can use it in the RF menu.</p> <p>For this module you can also set a custom frequency in the supported subranges: 300-348 MHZ, 387-464 MHZ and 779-928 MHZ. Setting an empty or invalid frequency will reset to the default 433.92 MHZ. This setting will only affect the receive and jamming features. Transmitting from a <code>sub</code> file will always use the frequency specified inside the file regardless of the user setting.</p>"},{"location":"CC1101/#connection-pinouts","title":"Connection pinouts","text":""},{"location":"CC1101/#m5stickc-plus2-and-1","title":"M5StickC Plus2 and 1","text":"<p>Same pinouts used in this project, watch the tutorial here:</p> <p></p> <ul> <li>GDO0_PIN=25</li> <li>SS_PIN=26  ; chip select. wrongly labelled as \"CKN\" in some boards</li> <li>MOSI_PIN=32</li> <li>SCK_PIN=0</li> <li>MISO_PIN=33</li> </ul> <p>Combined connection with an SD card module is still WIP, subscribe this issue for updates: https://github.com/pr3y/Bruce/issues/249</p>"},{"location":"CC1101/#cardputer","title":"Cardputer","text":"<p>This requires a microSD sniffer (shared with the SD card) and some soldering skills.</p> Pin CC1101 SD Sniffer Cardputer 1 GND GND 2 3,3V Vcc 3 GDO0 Grove SDA (2) 4 CSN Grove SCL (1) 5 SCK CLK 6 Mosi CMD 7 Miso DAT0 8 <p></p> <p>OR you can try your soldering skills and use this pinouts:</p> <p></p> <p>Pinouts discovered by @PAZGUSTAVO, thank you!</p>"},{"location":"CC1101/#cyd","title":"CYD","text":"<p>Works with the microSD sniffer:</p> <ul> <li>GDO0 PIN = 22</li> <li>CSN/SS PIN = 27</li> </ul> <p></p> <p>Schematics thanks to @C.Oliveira, tested here</p> <p>Alternative wiring directly to the ESP32 chip by ARTFOR (more difficult)</p>"},{"location":"CC1101/#all-of-these-connections-are-compatible-with-bruce-firmware-and-nrf24-module-also","title":"All of these connections are compatible with Bruce firmware and NRF24 module also","text":""},{"location":"Develop-with-Bruce/","title":"Develop with Bruce","text":""},{"location":"Develop-with-Bruce/#resume","title":"Resume","text":"<ol> <li>Prerequisites</li> <li>Bruce structure</li> <li>Dependencies</li> <li>Development<ol> <li>Add a new item in the main menu</li> <li>Draw a new icon</li> <li>Add or modify menus</li> <li>Add or modify sub-menus</li> <li>Module functions</li> </ol> </li> </ol>"},{"location":"Develop-with-Bruce/#prerequisites","title":"Prerequisites","text":"<p>First you need to clone the repository and build Bruce from sources. You will find the documentation here: 1. [optional] but recommended: work from a Python virtualenv 2. build your firmware 3. install your build</p>"},{"location":"Develop-with-Bruce/#bruce-structure","title":"Bruce structure","text":"<p>Main code in <code>src/core</code> and modules in <code>src/modules</code>. In <code>module</code> repository, we have one folder for each category. Don't hesitate to ask in the Discord where to add the files for your module. Here we will create a new directory and new files: <pre><code>src/\n|-- core/\n|------ menu_items/\n        |---- LoRaMenu.h\n        |---- LoRaMenu.cpp\n|-- modules/\n|------ lora/\n        |---- lora.h\n        |---- lora.cpp\n</code></pre></p>"},{"location":"Develop-with-Bruce/#dependencies","title":"Dependencies","text":"<p>If you need to install a new library, you have two choices: 1. use <code>pio</code> package manager 2. add your custom library in <code>lib/</code></p> <p>Pio package manager If you want to install d\u00f4me librairies,  you can search or install them like: <pre><code>pio pkg search mylib\npio pkg install -l mylib\n</code></pre></p> <p>Warning: do not commit the <code>platform.io</code> auto generated file. Instead add your lib in the adequate section of the file. Or ask on the Discord where to write it. </p> <p>Custom library Simply put your lib in `lib/mylib'. Then you can import it with: <pre><code>#include \"../lib/mylib/mylib.h\"\n</code></pre></p>"},{"location":"Develop-with-Bruce/#development","title":"Development","text":"<p>As an exemple, we will see how to add a LoRa module in Bruce. This is a 868 MHz RF module with dedicated protocol. But we are not interested in how LoRa works, it's just for the templating.</p>"},{"location":"Develop-with-Bruce/#add-a-new-item-in-the-main-menu","title":"Add a new item in the main menu","text":"<p>You can either add a feature in an existing menu, or create a new item in the main menu. We will first see how to add an item.</p> <p>Register an item</p> <p>We need to register our item by modifying 2 files: * <code>src/core/menu_items/LoRaMenu.h</code> * <code>src/core/menu_items/LoRaMenu.cpp</code></p> <p>In <code>LoRaMenu.h, we declare the menu object with the mandatory methods: *</code>optionsMenu()<code>--&gt; declare the menu options *</code>draw()<code>--&gt; draw the item in main menu *</code>getName` --&gt; return the name of the menu</p> <p>In the end, it looks like this: <pre><code>#ifndef __LORA_MENU_H__\n#define __LORA_MENU_H__\n\n#include \"MenuItemInterface.h\"\n\nclass LORAMenu : public MenuItemInterface {\npublic:\n    void optionsMenu(void);\n    void draw(void);\n    String getName(void);\n\nprivate:\n    String _name = \"LoRa\";\n    void configMenu(void);\n};\n\n#endif\n</code></pre></p> <p>Now in <code>LoRaMenu.cpp</code> we will declare the methods we need. Their contents will be explained later in this tutorial. <pre><code>#include \"LoRaMenu.h\"\n#include \"core/display.h\"\n#include \"modules/lora/lora.h\"\n\nvoid LoRaMenu::optionsMenu() {\n    // We will see that later (see bellow)\n\n    delay(200);\n    loopOptions(options,false,true,\"LoRa\");\n}\n\nString LoRaMenu::getName() {\n    return _name;\n}\n\nvoid LoRaMenu::draw() {\n    // We will see that later (see bellow)\n}\n</code></pre></p> <p>We're done for the register part. Now, we need to develop the content of the 2 methods previously declared:  1. <code>LoRaMenu::draw()</code> --&gt; the icon that will be draw on screen 4. <code>LoRaMenu::optionsMenu()</code> --&gt; the declaration of the menu when the main item is selected</p>"},{"location":"Develop-with-Bruce/#draw-a-new-icon","title":"Draw a new icon","text":"<p>drawLoRa() With this function, you can draw your own icon. To be able to draw, you can use the following functions: | Function | Description | |:------------|:---------------| | <code>tft.drawLine()</code>| Draw a simple line | | <code>tft.drawRect()</code> | Draw a rectangle | | <code>tft.drawRoundRect()</code> | Draw a rounded border rectangle | | <code>tft.drawCentreString()</code>| Display a screen center on coordinates | | <code>tft.drawCircle()</code> | Draw a circle | | <code>tft.drawArc()</code> | Draw an arc | | <code>tft.fillRect()</code> | Draw and fill a rectangle | | <code>tft.fillRoundRect()</code> | Draw and fill a rounded border rectangle  | | <code>tft.fillCircle()</code> | Draw and fill a circle | | <code>tft.fillScreen()</code> | Fill the whole screen |</p> <p>Here is an exemple of the definition in <code>src/core/menu_items/LoRaMenu.cpp</code>: <pre><code>void LoRaMenu::draw() {\n  // Blank\n  tft.fillRect(iconX,iconY,80,80,BGCOLOR);\n\n  tft.drawArc(19+iconX,45+iconY,12,10,130,230,FGCOLOR,BGCOLOR);\n  tft.drawArc(19+iconX,45+iconY,22,20,130,230,FGCOLOR,BGCOLOR);\n  tft.drawArc(19+iconX,45+iconY,32,30,130,230,FGCOLOR,BGCOLOR);\n  tft.drawCentreString(\"L o R a\",40+iconX, 40+iconY, SMOOTH_FONT);\n}\n</code></pre></p>"},{"location":"Develop-with-Bruce/#add-or-modify-menus","title":"Add or modify menus","text":"<p>LoRaMenu::optionsMenu()</p> <p>We need to declare the options, like we started in <code>src/core/menu_items/LoRaMenu.cpp</code>. For this we use the <code>loopOptions()</code> function.  This function takes as an argument an <code>options</code> object. In parameter, the <code>*_run</code> are functions called when the option will be selected by the user. For now, those functions do not exist. Here is an exemple: <pre><code>void LoRaMenu::optionsMenu() {\n  options = {\n    {\"LoRa Gw\",         [=]() { lora_gw_run(); }},\n    {\"Messenger\",       [=]() { lora_msg_run(); }},\n    {\"Scan nets\",       [=]() { lora_scan_run(); }},\n    {\"Main Menu\",       [=]() { backToMenu(); }}\n  };\n  delay(200);\n  loopOptions(options,false,true,\"LoRa\");\n}\n</code></pre></p> <p>Return to the main menu You can notice the <code>backToMenu()</code> call. It's only switching a global boolean: <code>returnToMenu</code>. This way you can implement a main menu return like this: <pre><code>if (!returnToMenu) {\n  // Run you stuff\n}\n\n// Will return to main menu after you last call\n</code></pre></p>"},{"location":"Develop-with-Bruce/#add-or-modify-sub-menus","title":"Add or modify sub-menus","text":"<p>You may want to draw a sub-menu, for exemple if you want to scan the nework ids, the user selects the desired option, then a sub-menu appears with the found results. For this you can do the exact same thing as a simple menu, it will automatically detect you'are in a sub-menu. Moreover, you can dynamically generate your sub-menu options like this.</p> <p>This is a module specific feature, so the declaration will be in <code>src/modules/lora/lora.h</code>: <pre><code>void lora_scan_run();\n</code></pre></p> <p>Here is an exemple of a dumb scan with dynamic options, in <code>src/modules/lora.cpp</code>: <pre><code>void lora_scan_run() {\n  char number[1];\n\n  // Display a banner while scanning runs in the background\n  displayRedStripe(\"Scanning..\", TFT_WHITE, FGCOLOR);\n  delay(2000);\n\n  options = { };\n  for(int i=1; i&lt;10; i++) {\n    sprintf(number, \"Scan %d\", i);\n    options.push_back({number,    [=]()  { /*do_things(i);*/ }});\n  }\n  options.push_back({\"Main menu\", [=]() { backToMenu(); }});\n\n  delay(200);\n  loopOptions(options);\n  delay(200);\n}\n</code></pre></p>"},{"location":"Develop-with-Bruce/#module-functions","title":"Module functions","text":"<p>You can now start to code the main functions of your module. Here we already made a call for <code>lora_gw_run()</code> and <code>lora_msg_run()</code>. Start to declare them in <code>src/modules/lora/lora.h</code>: <pre><code>void lora_scan_run();\nvoid lora_gw_run();\nvoid lora_msg_run();\n</code></pre></p> <p>Then code the functions in <code>src/modules/lora/lora.cpp</code>: <pre><code>#include \"lora.h\"\n\n// Important imports to play with buttons, keyboard, screen etc.\n#include \"core/globals.h\"\n#include \"core/display.h\"\n#include \"core/mykeyboard.h\"\n\nvoid lora_gw_run() {\n  // Do some stuff\n}\n\nvoid lora_msg_run() {\n  // Do some stuff\n}\n</code></pre></p>"},{"location":"Develop-with-Bruce/#add-support-to-more-devices","title":"Add support to more devices","text":"<pre><code>.\n\u251c\u2500\u2500 platformio.ini\n\u251c\u2500\u2500 boards\n    \u251c\u2500\u2500 [board]\n    \u2502   \u2514\u2500\u2500 interface.cpp\n    \u251c\u2500\u2500 pinouts\n    \u2502   \u251c\u2500\u2500 pins_arduino.h\n    \u2502   \u2514\u2500\u2500 [board].h\n    \u251c\u2500\u2500 [board].json\n    \u2514\u2500\u2500 [board].ini\n...\n</code></pre>"},{"location":"Develop-with-Bruce/#files","title":"Files","text":"<p>(Replace [board] with the board name)</p>"},{"location":"Develop-with-Bruce/#boardspinoutspins_arduioh","title":"boards/pinouts/pins_arduio.h","text":"<p>This is where you will put the flag that will include your boards pinouts header.</p>"},{"location":"Develop-with-Bruce/#boardspinoutsboardh","title":"boards/pinouts/[board].h","text":"<p>This is where you put the flags and pinouts to the board. Look at other boards for whats needed. Here is an official example and what we are actually using here: https://github.com/espressif/arduino-esp32/blob/master/variants/esp32s3/pins_arduino.h</p>"},{"location":"Develop-with-Bruce/#boardsboardinterfacecpp","title":"boards/[board]/interface.cpp","text":"<p>This is where you do the board specific setup code</p>"},{"location":"Develop-with-Bruce/#boardsboardjson","title":"boards/[board].json","text":"<p>This is the board config. Look at other boards for whats needed. Here is an offical example and what we are actually using here: https://github.com/platformio/platform-espressif32/blob/master/boards/esp32-s3-devkitc-1.json</p>"},{"location":"Develop-with-Bruce/#boardsboardini","title":"boards/[board].ini","text":"<p>This is the platformio config for the device. Look at other boards for whats needed.</p>"},{"location":"Develop-with-Bruce/#githubworkflowsbuil_parallelyml","title":".github/workflows/buil_parallel.yml","text":"<p>This is the last file that should be changed to add a new device build, you should just add a new line with the environment you choose before and set the bootloader address.</p>"},{"location":"FAQ/","title":"How to transfer files to/from the SD/LittleFS memory?","text":"<p>Use the WebUI</p>"},{"location":"FAQ/#default-passwords","title":"Default passwords?","text":"<p>For AP mode wifi network the password is <code>brucenet</code>.</p> <p>For the WebUI, username=<code>admin</code>, password=<code>bruce</code></p>"},{"location":"FAQ/#irrf-transmitterreceiver-not-working","title":"IR/RF transmitter/receiver not working?","text":"<ul> <li>IR requires a line-of-sight between the transmitter and the receiver, which can be easily blocked by solid objects. Light can bounce off some surfaces and still reach the receiver, but don't rely on that too much. Other IR light sources like the sun can also cause interferences. RF signals propagate in all directions and does not require a line of sight, but can still be blocked by solid objects, especially if made of metal.</li> <li>try putting the transmitter and receiver closer (&lt;10cm), many cheap modules have poor ranges, or may be too noisy.</li> <li>if using unofficially supported modules, double-check that the used pins are correct. These can be changed in the Settings.</li> <li>check if the module is active and working during transmission:</li> <li>for IR, you can use a smartphone camera to check if the IR LED is blinking.</li> <li>use a multimeter or an oscilloscope to check activity on the data pin/LED/antenna.</li> <li>use another device to check and compare the signals. e.g. rtl_433 for RF, Tasmota or a Broadlink RM4 Pro for both IR and RF.</li> <li>most RF modules only supports the 433MHz frequency with ASK/OOK modulation. Check if your <code>.sub</code> file or source signal is compatible.</li> <li>check the serial log for errors, some signals may fail to decode.</li> <li>even if the signal decodes properly, some devices may use rolling codes or other security mechanism to prevent replay attacks.</li> </ul>"},{"location":"FAQ/#feature-x-is-missing-in-my-device","title":"Feature X is missing in my device?","text":"<p>Check the table here.</p> <p>e.g. BadUSB is only available on ESP32-S3-based devices.</p>"},{"location":"FAQ/#port-to-other-boards","title":"Port to other boards?","text":"<p>For unsupported boards you have to manually add a new configuration environment in the platformio.ini, and define the pins for the modules to be connected, buttons and LCD. Then, compile the firmware for your new env. Depending on the board more code changes may be needed.</p> <p>For boards that do not have a display and buttons, an headless mode was added. Headless boards can be controlled only via the WebUI and serial commands, and provide a subset of all the Bruce features.</p> <p>A sample env for the esp32-s3-devkitc-1 board is defined here, it should work with any headless ESP32-S3 boards.</p>"},{"location":"FAQ/#what-kind-of-files-i-need-to-put-on-the-sd-card","title":"What kind of files i need to put on the SD card?","text":"<p>There is some file examples of what you can do in here, including evil portal templates, nfcs and infrared</p>"},{"location":"FAQ/#how-do-i-customize-bruce","title":"How do i customize Bruce?","text":"<p>You can choose a startup image other than Bruce's default by adding your image as 'boot.jpg' or 'boot.gif' on the root of the filesystems, you can also choose a startup sound if you have a file named 'boot.wav' for it. Also its possible to render images on the Bruce itself via the LittleFS or SD Card manager.</p>"},{"location":"FAQ/#themes","title":"Themes","text":"<p>Now its possible to have other themes for the menu functionalities!</p> <p>See the guide here on how to create them.</p> <p>To look for community themes, for now you can look at this thread in Bruce discord: https://discord.com/channels/1264994142769909854/1351879900037906462</p>"},{"location":"FM/","title":"FM","text":"<p>Play on <code>76-108 MHz</code> frequencies with a Si4713 module.</p> <p>Feature added in https://github.com/pr3y/Bruce/pull/195</p>"},{"location":"FM/#radio-supported-modules","title":":radio: Supported Modules","text":"<p>It needs to a Si4713. Those modules are supported for now:</p> <ol> <li>Adafruit Si4713</li> <li>CJMCU-4713</li> </ol>"},{"location":"FM/#wiring","title":"Wiring","text":""},{"location":"FM/#schema","title":"Schema","text":""},{"location":"FM/#pins","title":"Pins","text":"Si4713 M5StickC Cardputer RST ATTENTION ATTENTION SCL Grove G33 Grove G1 SDA Grove G32 Grove G2 GND Grove G Grove G VIN Grove 5V Grove 5V <p>ATTENTION: It is necessary to turn on the device (StickC/Cardputer), place 1 wire on the RST pin of the FM Transmitter and quickly touch the end of the wire to GND to activate the RST, this way it is not necessary to use the SD Card Sniffer or the G0 pin of StickC.  It is also possible to place a button or resistor for this operation, if you prefer.</p> <p>Example Video</p>"},{"location":"FM/#features","title":"Features","text":""},{"location":"FM/#play_or_pause_button-broadcast-standard","title":":play_or_pause_button: Broadcast standard","text":"<p>Broadcast sound from the Si4713 to the selected frequency. To be easier to choose, you need to select first the tens: <code>80</code>, <code>90</code> or <code>100 MHz</code>. Then you will choose the unit: <code>81</code>, <code>82</code>, <code>83</code>, <code>84 MHz</code> etc. and finally the radio frequency: <code>81.1</code>, <code>81.2</code>, <code>81.3 MHz</code> etc.</p> <p>When broadcast is started, you can leave FM radio menu and run something else. FM broadcast will run in the background.</p> <p>Auto mode available.</p>"},{"location":"FM/#no_entry_sign-broadcast-rerserved","title":":no_entry_sign: Broadcast rerserved","text":"<p>Warning: this could be illegal depending on your country. Educationnal purpose only.  </p> <p>Work the same way as broadcast standard but on reserved frequencies, which are 76 - 87.5 MHz.</p> <p>Auto mode available.</p>"},{"location":"FM/#stop_button-broadcast-stop","title":":stop_button: Broadcast stop","text":"<p>Stop broadcasting.</p>"},{"location":"FM/#ocean-fm-spectrum","title":":ocean: FM Spectrum","text":"<p>Work in progress.  </p> <p>Display noise spectrum on a given frequency.</p> <p>Auto mode available.</p>"},{"location":"FM/#car-hijack-ta","title":":car: Hijack TA","text":"<p>Warning: this could be illegal depending on your country. Educationnal purpose only.  </p> <p>Work in progress.</p> <p>Hijack a traffic announcement radio station to automatically start and set frequency of the cars around the transmitter. Broadcast is working and TA flag is set, but auto start and switch of car radios does not work for now.</p> <p>Radio frequency is set to info traffic station which is <code>107.7 MHz</code>.</p>"},{"location":"FM/#bookmark_tabs-config","title":":bookmark_tabs: Config","text":"<p>Work in progress.</p>"},{"location":"FM/#factory-auto-mode","title":":factory: Auto mode","text":"<p>In this mode, the Si4713 will listen for all frequency and select the one with minimum noise level, which represents a free radio station.</p>"},{"location":"FM/#radio-attention","title":":radio: Attention","text":"<p>Currently, the audio is transmitted via the P3 cable, that is, it is necessary for an external device connected to the P3 cable to send the audio to the FM Transmitter, an example would be using the smartphone with a P3 - P3 cable, connected to the transmitter and placing some music to play on your smartphone.</p>"},{"location":"Files/","title":"Files","text":""},{"location":"Files/#sd","title":"SD","text":"<p>Create Folders or Rename, Copy (to LittleFS also) and Delete files.</p>"},{"location":"Files/#littlefs","title":"LittleFS","text":"<p>Delete, Copy, Rename or Read files from LittleFS.</p>"},{"location":"Files/#webui","title":"WebUI","text":"<p>Make you device as an AP or connect to a network to use the WebUI, with this you can manage your files on the SD card and also LittleFS Before setting up, you need to access http://bruce.local with the credentials on screen to have access to the manager.</p>"},{"location":"Files/#mass-storage","title":"Mass Storage","text":"<p>You can now emulate a USB storage device and access the files of SD Card or LittleFS via USB.</p>"},{"location":"IR/","title":"IR","text":""},{"location":"IR/#supported-modules","title":"Supported Modules","text":""},{"location":"IR/#built-in-options","title":"Built-In Options","text":"<ul> <li>Infrared Emitter: Most M5Stack boards come equipped with a built-in IR emitter.</li> <li>M5Stack Mini Infrared Emitter &amp; Receiver Unit: This module offers easier connectivity compared to other options.</li> </ul>"},{"location":"IR/#unofficial-modules","title":"Unofficial Modules","text":"<ul> <li>KY-005: Infrared Transmitter  </li> <li> <p>KY-022: Infrared Receiver Note: These modules may be available under different names and may require modifications for optimal range when used with 3.3V boards. See source 1 and source 2 for details.</p> </li> <li> <p>Elecrow Arduino Infrared Remote Control IOT Smart IR Module: Functions well at 3.3V without requiring modifications.</p> </li> <li>IR Hats for Raspberry Pi: Designed for 3.3V operation; untested but expected to work.</li> <li>LOLIN D1 IR Shield: Requires soldering for setup.</li> <li>DIY Board: Additional option for custom projects.</li> </ul>"},{"location":"IR/#default-pinouts","title":"Default Pinouts","text":"<ul> <li>Tx: Built-in LED  </li> <li>Rx: GROVE_SCL  </li> </ul>"},{"location":"IR/#request-for-information","title":"Request for Information","text":"<ul> <li>Wanted: Comparative analysis of the range performance of different IR modules.</li> </ul>"},{"location":"IR/#unsupportednon-functional-modules","title":"Unsupported/Non-Functional Modules","text":"<ul> <li>YT-IRTM Transmitter/Receiver: Utilizes a serial connection and supports NEC protocol only.</li> <li>Flirc: Other unbranded IR receivers and blasters with USB/USB-C connections, such as this product.</li> </ul>"},{"location":"IR/#features","title":"Features","text":"<ul> <li>[x] TV-B-Gone: Sends infrared signals to turn off various screens.</li> <li>[x] Custom IR: Allows sending of custom IR codes from files stored in LittleFS or on an SD card.</li> <li>[x] IR Read: Capable of reading and decoding incoming IR signals.</li> </ul>"},{"location":"IR/#replay-payloads-like-flipper","title":"Replay Payloads Like Flipper!","text":"<p>To access <code>.ir</code> files, visit: Infrared Payloads.</p> <p>https://github.com/Lucaslhm/Flipper-IRDB also has so many payloads you can use</p>"},{"location":"IR/#methods-for-transmitting-ir-files","title":"Methods for Transmitting <code>.ir</code> Files","text":"<ol> <li>Custom IR App: Select commands individually from the \"IR\" menu.</li> <li>SDCard/LittleFS File Manager: Access under the \"Others\" menu (sends all commands).</li> <li>WebUI: Click the antenna button next to the file (sends all commands).</li> <li>Serial Command: For example, use <code>ir tx_from_file AC_LG_SX122CL_off.ir</code>. For further details, refer to the Serial Command Guide (sends all commands).</li> </ol>"},{"location":"Installing/","title":"How to install","text":""},{"location":"Installing/#for-m5stack-devices","title":"For m5stack devices","text":"<p>The easiest way to install Bruce is using the official Web Flasher https://bruce.computer/flasher. Or if you already use M5Launcher to manage your m5stack device, you can install it with OTA.</p> <p>You can also burn it directly from the m5burner tool, just search for 'Bruce' (My official builds will be uploaded by \"owner\" and have photos.) on the device category you want to and click on burn</p> <p>Or download the latest binary from releases and flash locally using esptool.py <pre><code>esptool.py --port /dev/ttyACM0 write_flash 0x00000 Bruce_device_version.bin\n</code></pre></p>"},{"location":"Interface/","title":"Interface","text":""},{"location":"Interface/#keyboard-shortcuts-cardputer-only","title":"Keyboard shortcuts (Cardputer only)","text":"<p>When you are on the main menu of Bruce, you can utilize the following keyboard shortcuts:</p> <ul> <li><code>i</code> : Navigate to IR codes.</li> <li><code>r</code> or <code>s</code> : Navigate to RF codes.</li> <li><code>b</code> : Navigate to BadUSB.</li> <li><code>w</code> : Navigate to WebUI.</li> <li><code>f</code> : Start the file manager on SD card (if present).</li> <li><code>l</code> : Start the file manager on LittleFS.</li> </ul> <p>After #1488, you can now customize these keys with a <code>/shortcuts.json</code> file.</p> <p>example:</p> <p>```js {     \"f\": \"loader open files\",     \"i\": \"loader open ir\",     \"r\": \"loader open rf\",     \"b\": \"loader open badusb\",     \"w\": \"loader open webui\",     \"c\": \"loader open config\",     \"1\": \"rf tx_from_file BruceRF/plug1_on.sub\",     \"2\": \"rf tx_from_file BruceRF/plug2_on.sub\",     \"t\": \"ir tx_from_file BruceIR/tv_telefunken_power.ir\",     \"l\": \"ir tx_from_file BruceIR/desklamp_off.ir\",     \"L\": \"ir tx_from_file BruceIR/desklamp_on.ir\" } </p> <p>````</p> <p>The action string on the right can be any supported serial command.</p> <p>[!TIP] Uppercase/lowercase letters are considered different and so can have different actions associated. Symbols are also supported as trigger keys.</p> <p>While inside any app these shortcuts are no longer active.</p> <p>In the file picker you can cycle filenames by pressing the initial letter in the keyboard, and jump pages with left and right.</p>"},{"location":"Interpreter/","title":"Interpreter","text":""},{"location":"Interpreter/#manual-for-coding-in-javascript-to-bruce","title":"Manual for Coding in JavaScript to Bruce","text":"<p>The Bruce Interpreter allows you to create scripts or even games using JavaScript. For legacy version of this page go here: InterpreterLegacy</p> <p>Some example scripts are here.</p> <p>You can copy your favourite scripts in the <code>/scripts</code> folder and have them listed in the \"Scripts\" menu.</p> <p>For easier development, you can use this bash script to upload code directly via serial. (linux only) Or this TypeScript developement SDK works in linux and windows.</p>"},{"location":"Interpreter/#important-javascript-compatibility","title":"Important: JavaScript Compatibility","text":"<ul> <li>\u274c No modern JavaScript features \u2013 Use only ES5 syntax:</li> <li>\u274c No <code>let</code> (use <code>var</code> instead).</li> <li>\u274c No <code>for...of</code> loops (use traditional <code>for</code> loops with indexes).</li> <li>\u274c No Arrow functions <code>() =&gt; {}</code> (use <code>function</code> instead).</li> <li>\u274c No <code>import ir from 'ir'</code> import syntax use <code>const ir = require('ir');</code> instead.</li> <li>\u274c No External npm module imports.</li> <li>\u274c No <code>Object.entries()</code>, <code>Promise</code>, <code>async/await</code>, <code>setInterval</code>, <code>setTimeout</code> (for now).</li> </ul> <p>If you want modern JS features as well as TypeScript support you can go here</p>"},{"location":"Interpreter/#uploading-your-scripts-to-bruce","title":"Uploading Your Scripts to Bruce","text":"<p>When uploading scripts to Bruce, keep in mind:</p> <ul> <li>Only JavaScript (<code>.js</code>) files can be uploaded.</li> <li>If you have TypeScript (<code>.ts</code>) files, you must first compile it to JavaScript (<code>.js</code>).</li> </ul>"},{"location":"Interpreter/#documentation","title":"Documentation","text":""},{"location":"Interpreter/#modules","title":"Modules","text":"Module Description globals Global variables and functions available in bruce js. audio Controls the audio. badusb Simulates USB keyboard input. device Show device information. dialog Displays dialog messages and user interactions. display Controls the TFT Display gpio GPIO (General Purpose Input/Output) ports ir Interacting with infrared (IR) signals. keyboard Access the keyboard input. notification Controls the notification LED. serial Serial communication. storage File storage operations. subghz Sub-GHz communication. wifi Wi-Fi connection and HTTP requests."},{"location":"Interpreter/#globals","title":"globals","text":"<p>Global variables and functions available in bruce js.</p>"},{"location":"Interpreter/#example","title":"Example","text":"<pre><code>console.log(now()); // console.log prints to serial monitor\ndelay(1000); // Pause for 1000ms (1 second)\nvar myNumber = parse_int(\"2133\"); // myNumber will be number 2133\nvar myString = to_string(24); // myString will be string \"24\"\nvar myHexStr = to_hex_string(1337); // myHexStr will be string \"539\" (because 1337 decimal is 0x539).\nvar str = \"Hello World\";\nprintln(to_lower_case(str)); // prints: hello world\nprintln(to_upper_case(str)); // prints: HELLO WORLD\nprintln(random(1, 20)); // prints random value between 1 and 20\nprintln(__dirname); // prints current dirname\n</code></pre>"},{"location":"Interpreter/#globals-functions","title":"globals functions","text":"<ul> <li>Path</li> <li>FileSystem</li> <li>BRUCE_VERSION</li> <li>BRUCE_PRICOLOR</li> <li>BRUCE_SECCOLOR</li> <li>BRUCE_BGCOLOR</li> <li>now()</li> <li>delay()</li> <li>parse_int()</li> <li>to_string()</li> <li>to_hex_string()</li> <li>to_lower_case()</li> <li>to_upper_case()</li> <li>random()</li> <li>println()</li> <li>require()</li> <li>assert()</li> </ul>"},{"location":"Interpreter/#path","title":"Path","text":"<p>Represents a file path along with its storage location.</p>"},{"location":"Interpreter/#example_1","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.pickFile({ fs: \"user\", path: \"/\" });\n</code></pre>"},{"location":"Interpreter/#properties","title":"Properties","text":"Property Type Description <code>fs</code> <code>FileSystem</code> The storage medium where the file is located <code>path</code> <code>string</code> The file path within the selected storage medium"},{"location":"Interpreter/#filesystem","title":"FileSystem","text":"<pre><code>type FileSystem = \"sd\" | \"littlefs\" | null;\n</code></pre> <p>Represents the storage medium where a file is located.</p> <ul> <li><code>'sd'</code> - File stored on SD card.</li> <li><code>'littlefs'</code> - File stored on LittleFS.</li> <li><code>null</code> - Automatically choose between SD card (if available) and LittleFS as a fallback.</li> </ul>"},{"location":"Interpreter/#__dirname","title":"__dirname","text":"<pre><code>const __dirname: string;\n</code></pre> <p>Path to the directory containing the current script</p>"},{"location":"Interpreter/#__filename","title":"__filename","text":"<pre><code>const __filename: string;\n</code></pre> <p>Path to the current script file</p>"},{"location":"Interpreter/#bruce_version","title":"BRUCE_VERSION","text":"<pre><code>const BRUCE_VERSION: string;\n</code></pre> <p>Version of the bruce firmware</p>"},{"location":"Interpreter/#bruce_pricolor","title":"BRUCE_PRICOLOR","text":"<pre><code>const BRUCE_PRICOLOR: number;\n</code></pre> <p>Primary color from the config</p>"},{"location":"Interpreter/#bruce_seccolor","title":"BRUCE_SECCOLOR","text":"<pre><code>const BRUCE_SECCOLOR: number;\n</code></pre> <p>Secondary color from the config</p>"},{"location":"Interpreter/#bruce_bgcolor","title":"BRUCE_BGCOLOR","text":"<pre><code>const BRUCE_BGCOLOR: number;\n</code></pre> <p>Background color from the config</p>"},{"location":"Interpreter/#now","title":"now()","text":"<pre><code>now(): number;\n</code></pre> <p>Returns the current time in milliseconds since the epoch</p>"},{"location":"Interpreter/#returns","title":"Returns","text":"<p><code>number</code></p> <p>The current timestamp in milliseconds</p>"},{"location":"Interpreter/#delay","title":"delay()","text":"<pre><code>delay(ms: number): void;\n</code></pre> <p>Pauses execution for the specified number of milliseconds</p>"},{"location":"Interpreter/#parameters","title":"Parameters","text":"Parameter Type Description <code>ms</code> <code>number</code> The number of milliseconds to delay"},{"location":"Interpreter/#returns_1","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#parse_int","title":"parse_int()","text":"<pre><code>parse_int(text: string): number;\n</code></pre> <p>Converts a string to a number</p>"},{"location":"Interpreter/#parameters_1","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> The string to convert to a number"},{"location":"Interpreter/#returns_2","title":"Returns","text":"<p><code>number</code></p>"},{"location":"Interpreter/#to_string","title":"to_string()","text":"<pre><code>to_string(value: any): string;\n</code></pre> <p>Converts a value to a string</p>"},{"location":"Interpreter/#parameters_2","title":"Parameters","text":"Parameter Type Description <code>value</code> <code>any</code> The value to convert to a string"},{"location":"Interpreter/#returns_3","title":"Returns","text":"<p><code>string</code></p>"},{"location":"Interpreter/#to_hex_string","title":"to_hex_string()","text":"<pre><code>to_hex_string(text: string): string;\n</code></pre> <p>Converts a hex string to a number</p>"},{"location":"Interpreter/#parameters_3","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> The hex string to convert to a number"},{"location":"Interpreter/#returns_4","title":"Returns","text":"<p><code>string</code></p>"},{"location":"Interpreter/#to_lower_case","title":"to_lower_case()","text":"<pre><code>to_lower_case(text: string): string;\n</code></pre> <p>Converts a string to a number</p>"},{"location":"Interpreter/#parameters_4","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> The string to convert to a number"},{"location":"Interpreter/#returns_5","title":"Returns","text":"<p><code>string</code></p>"},{"location":"Interpreter/#to_upper_case","title":"to_upper_case()","text":"<pre><code>to_upper_case(text: string): string;\n</code></pre> <p>Converts a string to a number</p>"},{"location":"Interpreter/#parameters_5","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> The string to convert to a number"},{"location":"Interpreter/#returns_6","title":"Returns","text":"<p><code>string</code></p>"},{"location":"Interpreter/#random","title":"random()","text":""},{"location":"Interpreter/#call-signature","title":"Call Signature","text":"<pre><code>random(min: number, max: number): number;\n</code></pre> <p>Returns a pseudo-random number</p>"},{"location":"Interpreter/#parameters_6","title":"Parameters","text":"Parameter Type Description <code>min</code> <code>number</code> Lower bound of the random value, inclusive (optional) <code>max</code> <code>number</code> Upper bound of the random value, exclusive"},{"location":"Interpreter/#returns_7","title":"Returns","text":"<p><code>number</code></p>"},{"location":"Interpreter/#call-signature_1","title":"Call Signature","text":"<pre><code>random(max: number): number;\n</code></pre> <p>Returns a pseudo-random number</p>"},{"location":"Interpreter/#parameters_7","title":"Parameters","text":"Parameter Type Description <code>max</code> <code>number</code> Upper bound of the random value, exclusive"},{"location":"Interpreter/#returns_8","title":"Returns","text":"<p><code>number</code></p>"},{"location":"Interpreter/#println","title":"println()","text":"<pre><code>println(...args: any[]): void;\n</code></pre> <p>Prints text to serial monitor and display. Alias to display.println().</p>"},{"location":"Interpreter/#parameters_8","title":"Parameters","text":"Parameter Type Description ...<code>args</code> <code>any</code>[] Text content."},{"location":"Interpreter/#returns_9","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#require","title":"require()","text":"<pre><code>require(module: string): any;\n</code></pre> <p>Loads a module. List of modules: modules.</p>"},{"location":"Interpreter/#example_2","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.message(\"Test.\");\n</code></pre>"},{"location":"Interpreter/#parameters_9","title":"Parameters","text":"Parameter Type Description <code>module</code> <code>string</code> The name of the module to load"},{"location":"Interpreter/#returns_10","title":"Returns","text":"<p><code>any</code></p>"},{"location":"Interpreter/#assert","title":"assert()","text":"<pre><code>assert(assertion: boolean, message?: string): boolean;\n</code></pre> <p>Throws an error if the assertion is false.</p>"},{"location":"Interpreter/#example_3","title":"Example","text":"<pre><code>assert(2 + 2 === 5); // Throws an error\n</code></pre>"},{"location":"Interpreter/#parameters_10","title":"Parameters","text":"Parameter Type Description <code>assertion</code> <code>boolean</code> Any boolean expression <code>message</code>? <code>string</code> The Error message if assertion is false"},{"location":"Interpreter/#returns_11","title":"Returns","text":"<p><code>boolean</code></p> <p></p>"},{"location":"Interpreter/#audio","title":"audio","text":"<p>Controls the audio.</p>"},{"location":"Interpreter/#example_4","title":"Example","text":"<pre><code>const audio = require(\"audio\");\n\naudio.tone(988, 2000); // Beeps buzzer for 2 seconds\n</code></pre>"},{"location":"Interpreter/#audio-functions","title":"audio functions","text":"<ul> <li>audio.playFile()</li> <li>audio.tone()</li> </ul>"},{"location":"Interpreter/#audioplayfile","title":"audio.playFile()","text":"<pre><code>audio.playFile(filename: string): void;\n</code></pre> <p>Plays an audio file from storage.</p>"},{"location":"Interpreter/#parameters_11","title":"Parameters","text":"Parameter Type Description <code>filename</code> <code>string</code> The path to the audio file (e.g., \"/sound.wav\")."},{"location":"Interpreter/#returns_12","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#audiotone","title":"audio.tone()","text":"<pre><code>audio.tone(\n  frequency: number,\n  durationMs: number,\n  nonBlocking?: boolean,\n): void;\n</code></pre> <p>Plays a tone at the specified frequency for a given duration.</p>"},{"location":"Interpreter/#parameters_12","title":"Parameters","text":"Parameter Type Description <code>frequency</code> <code>number</code> Frequency in Hz. <code>durationMs</code> <code>number</code> Duration in milliseconds. <code>nonBlocking</code>? <code>boolean</code> If true, the function will not play the tone if it would block execution."},{"location":"Interpreter/#returns_13","title":"Returns","text":"<p><code>void</code></p> <p></p>"},{"location":"Interpreter/#badusb","title":"badusb","text":"<p>Simulates USB keyboard input.</p>"},{"location":"Interpreter/#example_5","title":"Example","text":"<pre><code>const badusb = require(\"badusb\");\n\nbadusb.setup();\nbadusb.press(0x04); // Presses the 'A' key\nbadusb.release(0x04); // Releases the 'A' key\nbadusb.println(\"Hello, world!\"); // Types and presses Enter\n</code></pre>"},{"location":"Interpreter/#badusb-functions","title":"badusb functions","text":"<ul> <li>badusb.setup()</li> <li>badusb.press()</li> <li>badusb.pressRaw()</li> <li>badusb.hold()</li> <li>badusb.release()</li> <li>badusb.releaseAll()</li> <li>badusb.print()</li> <li>badusb.println()</li> <li>badusb.runFile()</li> </ul>"},{"location":"Interpreter/#badusbsetup","title":"badusb.setup()","text":"<pre><code>badusb.setup(): void;\n</code></pre> <p>Initializes the BadUSB module.</p>"},{"location":"Interpreter/#returns_14","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbpress","title":"badusb.press()","text":"<pre><code>badusb.press(keycode: number): void;\n</code></pre> <p>Simulates pressing a key using a keycode.</p>"},{"location":"Interpreter/#parameters_13","title":"Parameters","text":"Parameter Type Description <code>keycode</code> <code>number</code> HID keycode of the key to press."},{"location":"Interpreter/#returns_15","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbpressraw","title":"badusb.pressRaw()","text":"<pre><code>badusb.pressRaw(hid_key: number): void;\n</code></pre> <p>Simulates pressing a key using a raw HID key value.</p>"},{"location":"Interpreter/#parameters_14","title":"Parameters","text":"Parameter Type Description <code>hid_key</code> <code>number</code> Raw HID key value."},{"location":"Interpreter/#returns_16","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbhold","title":"badusb.hold()","text":"<pre><code>badusb.hold(keycode: number): void;\n</code></pre> <p>Simulates holding down a key.</p>"},{"location":"Interpreter/#parameters_15","title":"Parameters","text":"Parameter Type Description <code>keycode</code> <code>number</code> HID keycode of the key to hold."},{"location":"Interpreter/#returns_17","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbrelease","title":"badusb.release()","text":"<pre><code>badusb.release(keycode: number): void;\n</code></pre> <p>Releases a previously pressed key.</p>"},{"location":"Interpreter/#parameters_16","title":"Parameters","text":"Parameter Type Description <code>keycode</code> <code>number</code> HID keycode of the key to release."},{"location":"Interpreter/#returns_18","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbreleaseall","title":"badusb.releaseAll()","text":"<pre><code>badusb.releaseAll(): void;\n</code></pre> <p>Releases all currently held keys.</p>"},{"location":"Interpreter/#returns_19","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbprint","title":"badusb.print()","text":"<pre><code>badusb.print(message: string): void;\n</code></pre> <p>Types a string as keyboard input.</p>"},{"location":"Interpreter/#parameters_17","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The text to type."},{"location":"Interpreter/#returns_20","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbprintln","title":"badusb.println()","text":"<pre><code>badusb.println(message: string): void;\n</code></pre> <p>Types a string followed by an \"Enter\" key press.</p>"},{"location":"Interpreter/#parameters_18","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The text to type."},{"location":"Interpreter/#returns_21","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#badusbrunfile","title":"badusb.runFile()","text":"<pre><code>badusb.runFile(filename: string): void;\n</code></pre> <p>Executes a script file from storage.</p>"},{"location":"Interpreter/#parameters_19","title":"Parameters","text":"Parameter Type Description <code>filename</code> <code>string</code> The path to the script file."},{"location":"Interpreter/#returns_22","title":"Returns","text":"<p><code>void</code></p> <p></p>"},{"location":"Interpreter/#device","title":"device","text":"<p>Show device information.</p>"},{"location":"Interpreter/#example_6","title":"Example","text":"<pre><code>const device = require(\"device\");\n\nconsole.log(\"Device Name:\", device.getName());\nconsole.log(\"Board:\", device.getBoard());\nconsole.log(\"Model:\", device.getModel());\nconsole.log(\"Battery Charge:\", device.getBatteryCharge(), \"%\");\n\nconst memoryStats = device.getFreeHeapSize();\nconsole.log(\"RAM Free:\", memoryStats.ram_free);\nconsole.log(\"PSRAM Free:\", memoryStats.psram_free);\n</code></pre>"},{"location":"Interpreter/#device-functions","title":"device functions","text":"<ul> <li>device.getName()</li> <li>device.getBoard()</li> <li>device.getModel()</li> <li>device.getBatteryCharge()</li> <li>device.getFreeHeapSize()</li> </ul>"},{"location":"Interpreter/#devicegetname","title":"device.getName()","text":"<pre><code>device.getName(): string;\n</code></pre> <p>Retrieves the device's name.</p>"},{"location":"Interpreter/#returns_23","title":"Returns","text":"<p><code>string</code></p> <p>The name of the device.</p>"},{"location":"Interpreter/#devicegetboard","title":"device.getBoard()","text":"<pre><code>device.getBoard(): string;\n</code></pre> <p>Retrieves the board type.</p>"},{"location":"Interpreter/#returns_24","title":"Returns","text":"<p><code>string</code></p> <p>The board identifier.</p>"},{"location":"Interpreter/#devicegetmodel","title":"device.getModel()","text":"<pre><code>device.getModel(): string;\n</code></pre> <p>Retrieves the model name.</p>"},{"location":"Interpreter/#returns_25","title":"Returns","text":"<p><code>string</code></p> <p>The model of the device.</p>"},{"location":"Interpreter/#devicegetbatterycharge","title":"device.getBatteryCharge()","text":"<pre><code>device.getBatteryCharge(): number;\n</code></pre> <p>Retrieves the current battery charge level.</p>"},{"location":"Interpreter/#returns_26","title":"Returns","text":"<p><code>number</code></p> <p>The battery charge percentage (0-100).</p>"},{"location":"Interpreter/#devicegetfreeheapsize","title":"device.getFreeHeapSize()","text":"<pre><code>device.getFreeHeapSize(): {\n  ram_free: number;\n  ram_min_free: number;\n  ram_largest_free_block: number;\n  ram_size: number;\n  psram_free: number;\n  psram_size: number;\n};\n</code></pre> <p>Retrieves information about the device's memory usage.</p>"},{"location":"Interpreter/#returns_27","title":"Returns","text":"<pre><code>{\n  ram_free: number;\n  ram_min_free: number;\n  ram_largest_free_block: number;\n  ram_size: number;\n  psram_free: number;\n  psram_size: number;\n}\n</code></pre> <p>An object containing RAM and PSRAM statistics:</p> <ul> <li><code>ram_free</code>: Free RAM available (in bytes).</li> <li><code>ram_min_free</code>: Minimum free RAM recorded (in bytes).</li> <li><code>ram_largest_free_block</code>: Largest contiguous free RAM block (in bytes).</li> <li><code>ram_size</code>: Total RAM size (in bytes).</li> <li><code>psram_free</code>: Free PSRAM available (in bytes).</li> <li><code>psram_size</code>: Total PSRAM size (in bytes).</li> </ul> Name Type <code>ram_free</code> <code>number</code> <code>ram_min_free</code> <code>number</code> <code>ram_largest_free_block</code> <code>number</code> <code>ram_size</code> <code>number</code> <code>psram_free</code> <code>number</code> <code>psram_size</code> <code>number</code> <p></p>"},{"location":"Interpreter/#dialog","title":"dialog","text":"<p>Displays dialog messages and user interactions.</p>"},{"location":"Interpreter/#example_7","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\n\ndialog.success(\"Operation completed successfully.\");\ndialog.error(\"An error occurred!\", true);\n\nconst options = [\"Yes\", \"No\", \"Cancel\"];\nconst selected = dialog.choice(options);\n\nconst filePath = dialog.pickFile(\"/documents\", \"txt\");\ndialog.viewFile(filePath);\n</code></pre>"},{"location":"Interpreter/#dialog-functions","title":"dialog functions","text":"<ul> <li>dialog.drawStatusBar()</li> <li>dialog.message()</li> <li>dialog.info()</li> <li>dialog.success()</li> <li>dialog.warning()</li> <li>dialog.error()</li> <li>dialog.choice()</li> <li>dialog.pickFile()</li> <li>dialog.prompt()</li> <li>dialog.viewFile()</li> <li>dialog.viewText()</li> <li>dialog.createTextViewer()</li> </ul>"},{"location":"Interpreter/#dialogdrawstatusbar","title":"dialog.drawStatusBar()","text":"<pre><code>dialog.drawStatusBar(): void;\n</code></pre> <p>Draws Bruce's status bar</p>"},{"location":"Interpreter/#returns_28","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogmessage","title":"dialog.message()","text":"<pre><code>dialog.message(\n  message: string,\n  buttons?: {\n    left: string;\n    center: string;\n    right: string;\n  },\n): void | \"left\" | \"center\" | \"right\";\n</code></pre> <p>Displays a message dialog with up to three choices.</p>"},{"location":"Interpreter/#example_8","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.message(\"Hello!\"); // Just displays the message\ndialog.message(\"Press any key...\", true); // Blocks until a key is pressed\nconst choice = dialog.message(\"Choose:\", {\n  left: \"No\",\n  center: \"Maybe\",\n  right: \"Yes\",\n});\nif (choice === \"right\") console.log(\"User chose Yes!\");\n</code></pre>"},{"location":"Interpreter/#parameters_20","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The message to display. <code>buttons</code>? { <code>left</code>: <code>string</code>; <code>center</code>: <code>string</code>; <code>right</code>: <code>string</code>; } If <code>true</code>, waits for a key press before closing (default: <code>false</code>). If an object, displays up to three buttons with custom labels. <code>buttons.left</code>? <code>string</code> - <code>buttons.center</code>? <code>string</code> - <code>buttons.right</code>? <code>string</code> -"},{"location":"Interpreter/#returns_29","title":"Returns","text":"<p><code>void</code> | <code>\"left\"</code> | <code>\"center\"</code> | <code>\"right\"</code></p> <p>The button pressed (<code>\"left\"</code>, <code>\"center\"</code>, or <code>\"right\"</code>), or <code>void</code> if no buttons are used.</p>"},{"location":"Interpreter/#dialoginfo","title":"dialog.info()","text":"<pre><code>dialog.info(message: string, waitForKeyPress?: boolean): void;\n</code></pre> <p>Displays an info notification (Blue background).</p>"},{"location":"Interpreter/#example_9","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.info(\"Operation completed successfully.\");\n</code></pre>"},{"location":"Interpreter/#parameters_21","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The info message to display. <code>waitForKeyPress</code>? <code>boolean</code> If <code>true</code>, waits for a key press before closing (default: <code>false</code>)."},{"location":"Interpreter/#returns_30","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogsuccess","title":"dialog.success()","text":"<pre><code>dialog.success(message: string, waitForKeyPress?: boolean): void;\n</code></pre> <p>Displays an success notification (Green background).</p>"},{"location":"Interpreter/#example_10","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.success(\"Operation completed successfully.\");\n</code></pre>"},{"location":"Interpreter/#parameters_22","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The success message to display. <code>waitForKeyPress</code>? <code>boolean</code> If <code>true</code>, waits for a key press before closing (default: <code>false</code>)."},{"location":"Interpreter/#returns_31","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogwarning","title":"dialog.warning()","text":"<pre><code>dialog.warning(message: string, waitForKeyPress?: boolean): void;\n</code></pre> <p>Displays an warning notification (Yellow background).</p>"},{"location":"Interpreter/#example_11","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.warning(\"Warning!\");\n</code></pre>"},{"location":"Interpreter/#parameters_23","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The warning message to display. <code>waitForKeyPress</code>? <code>boolean</code> If <code>true</code>, waits for a key press before closing (default: <code>false</code>)."},{"location":"Interpreter/#returns_32","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogerror","title":"dialog.error()","text":"<pre><code>dialog.error(message: string, waitForKeyPress?: boolean): void;\n</code></pre> <p>Displays an error notification (Red background).</p>"},{"location":"Interpreter/#example_12","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.error(\"An error occurred!\", true);\n</code></pre>"},{"location":"Interpreter/#parameters_24","title":"Parameters","text":"Parameter Type Description <code>message</code> <code>string</code> The error message to display. <code>waitForKeyPress</code>? <code>boolean</code> If <code>true</code>, waits for a key press before closing (default: <code>false</code>)."},{"location":"Interpreter/#returns_33","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogchoice","title":"dialog.choice()","text":"<pre><code>dialog.choice(\n  values: string[] | [string, string][] | {} | string[][],\n): string;\n</code></pre> <p>Displays a choice dialog and returns the selected option.</p>"},{"location":"Interpreter/#example_13","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\nconst options = [\"Yes\", \"No\", \"Cancel\"];\nconst selected = dialog.choice(options);\nconsole.log(\"Selected:\", selected); // it should print \"Yes\", \"No\" or \"Cancel\"\n\nconst optionsNestedArray = [\n  [\"Go Back\", \"go_back\"],\n  [\"Cancel\", \"cancel\"],\n  [\"Quit\", \"quit\"],\n];\nconst selectedNestedArray = dialog.choice(optionsNestedArray);\nconsole.log(\"selectedNestedArray:\", selectedNestedArray); // it should print \"go_back\", \"cancel\" or \"quit\"\n\nconst optionsObject = { \"Go Back\": \"go_back\", Cancel: \"cancel\", Quit: \"quit\" };\nconst selectedObject = dialog.choice(optionsObject);\nconsole.log(\"selectedObject:\", selectedObject); // it should print \"go_back\", \"cancel\" or \"quit\"\n</code></pre>"},{"location":"Interpreter/#parameters_25","title":"Parameters","text":"Parameter Type Description <code>values</code> <code>string</code>[] | [<code>string</code>, <code>string</code>][] | {} | <code>string</code>[][] An array of options to choose from. Can also be nested array or object."},{"location":"Interpreter/#returns_34","title":"Returns","text":"<p><code>string</code></p> <p>The selected option as a string.</p>"},{"location":"Interpreter/#dialogpickfile","title":"dialog.pickFile()","text":"<pre><code>dialog.pickFile(path?: string, extension?: string): string;\n</code></pre> <p>Opens a file picker dialog and returns the selected file path.</p>"},{"location":"Interpreter/#example_14","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\nconst filePath = dialog.pickFile(\"/documents\", \"txt\");\ndialog.viewFile(filePath);\n</code></pre>"},{"location":"Interpreter/#parameters_26","title":"Parameters","text":"Parameter Type Description <code>path</code>? <code>string</code> The initial directory path (optional). <code>extension</code>? <code>string</code> The file extension filter (optional)."},{"location":"Interpreter/#returns_35","title":"Returns","text":"<p><code>string</code></p> <p>The selected file path or <code>null</code> if no file is chosen.</p>"},{"location":"Interpreter/#dialogprompt","title":"dialog.prompt()","text":"<pre><code>dialog.prompt(title?: string, valueLength?: number, value?: string): string;\n</code></pre> <p>Opens an on-screen keyboard for user input.</p>"},{"location":"Interpreter/#parameters_27","title":"Parameters","text":"Parameter Type Description <code>title</code>? <code>string</code> Title of the keyboard prompt. <code>valueLength</code>? <code>number</code> Maximum length of the input value. <code>value</code>? <code>string</code> Initial value to display."},{"location":"Interpreter/#returns_36","title":"Returns","text":"<p><code>string</code></p> <p>User input.</p>"},{"location":"Interpreter/#dialogviewfile","title":"dialog.viewFile()","text":"<pre><code>dialog.viewFile(path: string): void;\n</code></pre> <p>Opens and displays a file in a viewer. Displays a window where the user can scroll and exit. Blocks execution until the user exits.</p>"},{"location":"Interpreter/#example_15","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\nconst filePath = dialog.pickFile(\"/documents\", \"txt\");\ndialog.viewFile(filePath);\n</code></pre>"},{"location":"Interpreter/#parameters_28","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> The file path to view."},{"location":"Interpreter/#returns_37","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogviewtext","title":"dialog.viewText()","text":"<pre><code>dialog.viewText(text: string, title?: string): void;\n</code></pre> <p>Opens and displays text in a viewer. Displays a window where the user can scroll and exit. Blocks execution until the user exits.</p>"},{"location":"Interpreter/#example_16","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\ndialog.viewText(\"text to display\");\n</code></pre>"},{"location":"Interpreter/#parameters_29","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> The text to view. <code>title</code>? <code>string</code> The optional title of the viewer window."},{"location":"Interpreter/#returns_38","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#dialogcreatetextviewer","title":"dialog.createTextViewer()","text":"<pre><code>dialog.createTextViewer(\n  text: string,\n  options?: {\n    fontSize: number;\n    startX: number;\n    startY: number;\n    width: number;\n    height: number;\n    indentWrappedLines: boolean;\n  },\n): TextViewer;\n</code></pre> <p>Creates a <code>TextViewer</code> instance, allowing manual control. Unlike <code>viewText</code>, this does not block execution. You must handle scrolling and closing yourself. Thanks to this you can implement: scrolling to section, follow links in text, and much more. You can find example of the implementation here: https://github.com/Tawank/bruce-js-tooling/tree/master/examples/browser-bruce</p>"},{"location":"Interpreter/#example_17","title":"Example","text":"<pre><code>const dialog = require(\"dialog\");\nconst textViewer = dialog.createTextViewer(\"long text\");\nwhile (true) {\n  if (keyboard.getPrevPress()) {\n    textViewer.scrollUp();\n  }\n  if (keyboard.getNextPress()) {\n    textViewer.scrollDown();\n  }\n  textViewer.draw();\n  delay(100);\n}\n</code></pre>"},{"location":"Interpreter/#parameters_30","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> The text to view. <code>options</code>? { <code>fontSize</code>: <code>number</code>; <code>startX</code>: <code>number</code>; <code>startY</code>: <code>number</code>; <code>width</code>: <code>number</code>; <code>height</code>: <code>number</code>; <code>indentWrappedLines</code>: <code>boolean</code>; } The text viewer options. <code>options.fontSize</code>? <code>number</code> - <code>options.startX</code>? <code>number</code> - <code>options.startY</code>? <code>number</code> - <code>options.width</code>? <code>number</code> - <code>options.height</code>? <code>number</code> - <code>options.indentWrappedLines</code>? <code>boolean</code> -"},{"location":"Interpreter/#returns_39","title":"Returns","text":"<p><code>TextViewer</code></p> <p>A <code>TextViewer</code> instance with manual controls.</p> <p></p>"},{"location":"Interpreter/#display","title":"display","text":"<p>Controls the TFT Display</p>"},{"location":"Interpreter/#example_18","title":"Example","text":"<pre><code>const display = require(\"display\");\n\nconst black = display.color(0, 0, 0);\nconst white = display.color(255, 255, 255);\n\ndisplay.fill(black);\ndisplay.drawFillRect(20, 20, 50, 50, white);\n\ndelay(2000);\n</code></pre>"},{"location":"Interpreter/#display-functions","title":"display functions","text":"<ul> <li>display.color()</li> <li>display.fill()</li> <li>display.setCursor()</li> <li>display.print()</li> <li>display.println()</li> <li>display.setTextColor()</li> <li>display.setTextAlign()</li> <li>display.setTextSize()</li> <li>display.drawText()</li> <li>display.drawString()</li> <li>display.drawPixel()</li> <li>display.drawLine()</li> <li>display.drawRect()</li> <li>display.drawFillRect()</li> <li>display.drawFillRectGradient()</li> <li>display.drawRoundRect()</li> <li>display.drawFillRoundRect()</li> <li>display.drawCircle()</li> <li>display.drawFillCircle()</li> <li>display.drawXBitmap()</li> <li>display.drawBitmap()</li> <li>display.drawJpg()</li> <li>display.drawGif()</li> <li>display.gifOpen()</li> <li>display.width()</li> <li>display.height()</li> </ul>"},{"location":"Interpreter/#displaycolor","title":"display.color()","text":"<pre><code>display.color(r: number, g: number, b: number): number;\n</code></pre> <p>Converts RGB values to a display-compatible color format.</p>"},{"location":"Interpreter/#parameters_31","title":"Parameters","text":"Parameter Type Description <code>r</code> <code>number</code> Red (0-255) <code>g</code> <code>number</code> Green (0-255) <code>b</code> <code>number</code> Blue (0-255)"},{"location":"Interpreter/#returns_40","title":"Returns","text":"<p><code>number</code></p> <p>A numeric representation of the color.</p>"},{"location":"Interpreter/#displayfill","title":"display.fill()","text":"<pre><code>display.fill(color: number): void;\n</code></pre> <p>Fills the entire screen with the specified color.</p>"},{"location":"Interpreter/#parameters_32","title":"Parameters","text":"Parameter Type Description <code>color</code> <code>number</code> Color value (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_41","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaysetcursor","title":"display.setCursor()","text":"<pre><code>display.setCursor(x: number, y: number): void;\n</code></pre> <p>Sets the cursor position for text rendering.</p>"},{"location":"Interpreter/#parameters_33","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate."},{"location":"Interpreter/#returns_42","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displayprint","title":"display.print()","text":"<pre><code>display.print(...args: any[]): void;\n</code></pre> <p>Prints text at the current cursor position. It also prints text to the Serial Monitor for devices without screen.</p>"},{"location":"Interpreter/#parameters_34","title":"Parameters","text":"Parameter Type Description ...<code>args</code> <code>any</code>[] Text content."},{"location":"Interpreter/#returns_43","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displayprintln","title":"display.println()","text":"<pre><code>display.println(...args: any[]): void;\n</code></pre> <p>Prints text followed by a newline at the current cursor position. It also prints text to the Serial Monitor for devices without screen.</p>"},{"location":"Interpreter/#parameters_35","title":"Parameters","text":"Parameter Type Description ...<code>args</code> <code>any</code>[] Text content."},{"location":"Interpreter/#returns_44","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaysettextcolor","title":"display.setTextColor()","text":"<pre><code>display.setTextColor(color: number): void;\n</code></pre> <p>Sets the text color.</p>"},{"location":"Interpreter/#parameters_36","title":"Parameters","text":"Parameter Type Description <code>color</code> <code>number</code> Text color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_45","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaysettextalign","title":"display.setTextAlign()","text":"<pre><code>display.setTextAlign(\n  align: number | \"left\" | \"center\" | \"right\",\n  baseline?: number | \"top\" | \"middle\" | \"bottom\" | \"alphabetic\",\n): void;\n</code></pre> <p>Sets the text alignment and baseline for rendering text.</p>"},{"location":"Interpreter/#example_19","title":"Example","text":"<pre><code>display.setTextAlign(1, 2); // Center align, bottom baseline\ndisplay.drawText(50, 50, \"Hello!\");\n</code></pre>"},{"location":"Interpreter/#parameters_37","title":"Parameters","text":"Parameter Type Description <code>align</code> <code>number</code> | <code>\"left\"</code> | <code>\"center\"</code> | <code>\"right\"</code> Horizontal alignment of the text. <code>baseline</code>? <code>number</code> | <code>\"top\"</code> | <code>\"middle\"</code> | <code>\"bottom\"</code> | <code>\"alphabetic\"</code> Vertical alignment of the text."},{"location":"Interpreter/#returns_46","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaysettextsize","title":"display.setTextSize()","text":"<pre><code>display.setTextSize(size: number): void;\n</code></pre> <p>Sets the text size.</p>"},{"location":"Interpreter/#parameters_38","title":"Parameters","text":"Parameter Type Description <code>size</code> <code>number</code> Text size."},{"location":"Interpreter/#returns_47","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawtext","title":"display.drawText()","text":"<pre><code>display.drawText(text: string | number | boolean, x: number, y: number): void;\n</code></pre> <p>Draws text at the specified position.</p>"},{"location":"Interpreter/#parameters_39","title":"Parameters","text":"Parameter Type Description <code>text</code> <code>string</code> | <code>number</code> | <code>boolean</code> The text to display. <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate."},{"location":"Interpreter/#returns_48","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawstring","title":"display.drawString()","text":"<pre><code>display.drawString(\n  text: string | number | boolean,\n  x: number,\n  y: number,\n): void;\n</code></pre> <p>Draws a string at the specified position (alias for <code>drawText</code>).</p>"},{"location":"Interpreter/#parameters_40","title":"Parameters","text":"Parameter Type <code>text</code> <code>string</code> | <code>number</code> | <code>boolean</code> <code>x</code> <code>number</code> <code>y</code> <code>number</code>"},{"location":"Interpreter/#returns_49","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawpixel","title":"display.drawPixel()","text":"<pre><code>display.drawPixel(x: number, y: number, color: number): void;\n</code></pre> <p>Draws a single pixel on the display.</p>"},{"location":"Interpreter/#parameters_41","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>color</code> <code>number</code> Pixel color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_50","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawline","title":"display.drawLine()","text":"<pre><code>display.drawLine(\n  x: number,\n  y: number,\n  x2: number,\n  y2: number,\n  color: number,\n): void;\n</code></pre> <p>Draws a line between two points.</p>"},{"location":"Interpreter/#parameters_42","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> Start X-coordinate. <code>y</code> <code>number</code> Start Y-coordinate. <code>x2</code> <code>number</code> End X-coordinate. <code>y2</code> <code>number</code> End Y-coordinate. <code>color</code> <code>number</code> Line color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_51","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawrect","title":"display.drawRect()","text":"<pre><code>display.drawRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  color: number,\n): void;\n</code></pre> <p>Draws a rectangle outline.</p>"},{"location":"Interpreter/#parameters_43","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>width</code> <code>number</code> Rectangle width. <code>height</code> <code>number</code> Rectangle height. <code>color</code> <code>number</code> Outline color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_52","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawfillrect","title":"display.drawFillRect()","text":"<pre><code>display.drawFillRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  color: number,\n): void;\n</code></pre> <p>Draws a filled rectangle.</p>"},{"location":"Interpreter/#parameters_44","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>width</code> <code>number</code> Rectangle width. <code>height</code> <code>number</code> Rectangle height. <code>color</code> <code>number</code> Color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_53","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawfillrectgradient","title":"display.drawFillRectGradient()","text":"<pre><code>display.drawFillRectGradient(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  color1: number,\n  color2: number,\n  direction: \"horizontal\" | \"vertical\",\n): void;\n</code></pre> <p>Draws a filled gradient rectangle.</p>"},{"location":"Interpreter/#parameters_45","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>width</code> <code>number</code> Rectangle width. <code>height</code> <code>number</code> Rectangle height. <code>color1</code> <code>number</code> Color 1 (use <code>display.color(r, g, b)</code> to generate one). <code>color2</code> <code>number</code> Color 2 (use <code>display.color(r, g, b)</code> to generate one). <code>direction</code> <code>\"horizontal\"</code> | <code>\"vertical\"</code> <code>'horizontal'</code> or <code>'vertical'</code>."},{"location":"Interpreter/#returns_54","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawroundrect","title":"display.drawRoundRect()","text":"<pre><code>display.drawRoundRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  radius: number,\n  color: number,\n): void;\n</code></pre> <p>Draws a round rectangle.</p>"},{"location":"Interpreter/#parameters_46","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>width</code> <code>number</code> Rectangle width. <code>height</code> <code>number</code> Rectangle height. <code>radius</code> <code>number</code> Rectangle radius. <code>color</code> <code>number</code> Outline color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_55","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawfillroundrect","title":"display.drawFillRoundRect()","text":"<pre><code>display.drawFillRoundRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  radius: number,\n  color: number,\n): void;\n</code></pre> <p>Draws a filled round rectangle.</p>"},{"location":"Interpreter/#parameters_47","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>width</code> <code>number</code> Rectangle width. <code>height</code> <code>number</code> Rectangle height. <code>radius</code> <code>number</code> Rectangle radius. <code>color</code> <code>number</code> Color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_56","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawcircle","title":"display.drawCircle()","text":"<pre><code>display.drawCircle(x: number, y: number, r: number, color: number): void;\n</code></pre> <p>Draws a circle.</p>"},{"location":"Interpreter/#parameters_48","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>r</code> <code>number</code> Circle radius. <code>color</code> <code>number</code> Outline color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_57","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawfillcircle","title":"display.drawFillCircle()","text":"<pre><code>display.drawFillCircle(x: number, y: number, r: number, color: number): void;\n</code></pre> <p>Draws a filled circle.</p>"},{"location":"Interpreter/#parameters_49","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate. <code>y</code> <code>number</code> Y-coordinate. <code>r</code> <code>number</code> Circle radius. <code>color</code> <code>number</code> Color (use <code>display.color(r, g, b)</code> to generate one)."},{"location":"Interpreter/#returns_58","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawxbitmap","title":"display.drawXBitmap()","text":"<pre><code>display.drawXBitmap(\n  x: number,\n  y: number,\n  bitmap: ArrayBuffer,\n  width: number,\n  height: number,\n  fgColor: number,\n  bgColor?: number,\n): void;\n</code></pre> <p>Draws a monochrome bitmap (XBM Bitmap) at the specified position on the screen. You can convert images to this format using this online converter: https://www.online-utility.org/image/convert/to/XBM</p>"},{"location":"Interpreter/#parameters_50","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate for the bitmap. <code>y</code> <code>number</code> Y-coordinate for the bitmap. <code>bitmap</code> <code>ArrayBuffer</code> The bitmap data stored in an ArrayBuffer (1-bit per pixel). <code>width</code> <code>number</code> The width of the bitmap in pixels. <code>height</code> <code>number</code> The height of the bitmap in pixels. <code>fgColor</code> <code>number</code> The foreground color (used for <code>1</code> bits in the bitmap). <code>bgColor</code>? <code>number</code> (Optional) The background color (used for <code>0</code> bits in the bitmap). If not provided then the background is transparent."},{"location":"Interpreter/#returns_59","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawbitmap","title":"display.drawBitmap()","text":"<pre><code>display.drawBitmap(\n  x: number,\n  y: number,\n  bitmap: ArrayBuffer,\n  width: number,\n  height: number,\n  bpp: 1 | 4 | 8 | 16,\n  palette?: ArrayBuffer,\n): void;\n</code></pre> <p>Draws a bitmap at the specified position on the screen.</p>"},{"location":"Interpreter/#parameters_51","title":"Parameters","text":"Parameter Type Description <code>x</code> <code>number</code> X-coordinate for the bitmap. <code>y</code> <code>number</code> Y-coordinate for the bitmap. <code>bitmap</code> <code>ArrayBuffer</code> The bitmap data stored in an <code>ArrayBuffer</code>. The format depends on <code>bpp</code>: - <code>16 bpp</code>: Each pixel is a 16-bit color value (RGB565). - <code>8 bpp</code>: Each pixel is an 8-bit color value (RGB332). - <code>4 bpp</code>: Each pixel is a 4-bit index into <code>palette</code> (2 pixels per byte). - <code>1 bpp</code>: Each pixel is a 1-bit index into <code>palette</code> (8 pixels per byte). <code>width</code> <code>number</code> The width of the bitmap in pixels. <code>height</code> <code>number</code> The height of the bitmap in pixels. <code>bpp</code> <code>1</code> | <code>4</code> | <code>8</code> | <code>16</code> Bits per pixel (16, 8, 4, or 1). <code>palette</code>? <code>ArrayBuffer</code> A color palette used only when <code>bpp</code> is 4 or 1. Each entry is a 16-bit color (RGB565)."},{"location":"Interpreter/#returns_60","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawjpg","title":"display.drawJpg()","text":"<pre><code>display.drawJpg(\n  path: string | Path,\n  x?: number,\n  y?: number,\n  center?: boolean,\n): void;\n</code></pre> <p>Draws a JPG image on the display.</p>"},{"location":"Interpreter/#parameters_52","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the JPG file. Supports: - A string path (e.g., \"/images/photo.jpg\"). - A <code>Path</code> object specifying storage { fs: \"sd\", path: \"/images/photo.jpg\" }. <code>x</code>? <code>number</code> X-coordinate. <code>y</code>? <code>number</code> Y-coordinate. <code>center</code>? <code>boolean</code> -"},{"location":"Interpreter/#returns_61","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaydrawgif","title":"display.drawGif()","text":"<pre><code>display.drawGif(\n  path: string | Path,\n  x?: number,\n  y?: number,\n  center?: boolean,\n  playDurationMs?: number,\n): void;\n</code></pre> <p>Draws a GIF image on the display.</p>"},{"location":"Interpreter/#parameters_53","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the GIF file. Supports: - A string path (e.g., \"/images/anim.gif\"). - A <code>Path</code> object specifying storage { fs: \"sd\", path: \"/images/anim.gif\" }. <code>x</code>? <code>number</code> X-coordinate. <code>y</code>? <code>number</code> Y-coordinate. <code>center</code>? <code>boolean</code> Whether to center the image. <code>playDurationMs</code>? <code>number</code> Duration to play the GIF."},{"location":"Interpreter/#returns_62","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#displaygifopen","title":"display.gifOpen()","text":"<pre><code>display.gifOpen(path: string | Path): Gif;\n</code></pre> <p>Opens a GIF for manual frame playback.</p>"},{"location":"Interpreter/#parameters_54","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the GIF file. Supports: - A string path (e.g., \"/images/anim.gif\"). - A <code>Path</code> object specifying storage { fs: \"sd\", path: \"/images/anim.gif\" }."},{"location":"Interpreter/#returns_63","title":"Returns","text":"<p><code>Gif</code></p> <p>A <code>Gif</code> object for controlling playback.</p>"},{"location":"Interpreter/#displaywidth","title":"display.width()","text":"<pre><code>display.width(): number;\n</code></pre> <p>Gets the display width.</p>"},{"location":"Interpreter/#returns_64","title":"Returns","text":"<p><code>number</code></p> <p>Display width in pixels.</p>"},{"location":"Interpreter/#displayheight","title":"display.height()","text":"<pre><code>display.height(): number;\n</code></pre> <p>Gets the display height.</p>"},{"location":"Interpreter/#returns_65","title":"Returns","text":"<p><code>number</code></p> <p>Display height in pixels.</p> <p></p>"},{"location":"Interpreter/#gpio","title":"gpio","text":"<p>GPIO (General Purpose Input/Output) ports</p>"},{"location":"Interpreter/#example_20","title":"Example","text":"<pre><code>const gpio = require(\"gpio\");\n\nconst led = 26;\ngpio.init(led, OUTPUT);\n\ngpio.write(led, HIGH);\ndelay(1000);\ngpio.write(led, LOW);\ndelay(1000);\n</code></pre>"},{"location":"Interpreter/#gpio-functions","title":"gpio functions","text":"<ul> <li>gpio.pinMode()</li> <li>gpio.digitalWrite()</li> <li>gpio.digitalRead()</li> <li>gpio.analogWrite()</li> <li>gpio.analogRead()</li> <li>gpio.touchRead()</li> <li>gpio.dacWrite()</li> <li>gpio.ledcSetup()</li> <li>gpio.ledcAttachPin()</li> <li>gpio.ledcWrite()</li> </ul>"},{"location":"Interpreter/#gpiopinmode","title":"gpio.pinMode()","text":"<pre><code>gpio.pinMode(pin: string | number, mode: Mode): void;\n</code></pre> <p>Configures the specified pin mode.</p>"},{"location":"Interpreter/#parameters_55","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name (e.g., <code>26</code> or \"G26\"). <code>mode</code> <code>Mode</code> Pin mode (<code>INPUT</code>, <code>OUTPUT</code>, <code>PULLUP</code>, etc.)."},{"location":"Interpreter/#returns_66","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#gpiodigitalwrite","title":"gpio.digitalWrite()","text":"<pre><code>gpio.digitalWrite(pin: string | number, value: boolean | PinValue): void;\n</code></pre> <p>Writes a digital value to a pin.</p>"},{"location":"Interpreter/#parameters_56","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name. <code>value</code> <code>boolean</code> | <code>PinValue</code> <code>HIGH</code>/<code>LOW</code> or <code>true</code>/<code>false</code>."},{"location":"Interpreter/#returns_67","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#gpiodigitalread","title":"gpio.digitalRead()","text":"<pre><code>gpio.digitalRead(pin: string | number): number;\n</code></pre> <p>Reads the digital state of a pin.</p>"},{"location":"Interpreter/#parameters_57","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name."},{"location":"Interpreter/#returns_68","title":"Returns","text":"<p><code>number</code></p> <p><code>1</code> for HIGH, <code>0</code> for LOW.</p>"},{"location":"Interpreter/#gpioanalogwrite","title":"gpio.analogWrite()","text":"<pre><code>gpio.analogWrite(pin: string | number, value: number): void;\n</code></pre> <p>Writes an analog value (PWM) to a pin.</p>"},{"location":"Interpreter/#parameters_58","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name. <code>value</code> <code>number</code> PWM duty cycle (0-255)."},{"location":"Interpreter/#returns_69","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#gpioanalogread","title":"gpio.analogRead()","text":"<pre><code>gpio.analogRead(pin: string | number): number;\n</code></pre> <p>Reads the analog value from a pin.</p>"},{"location":"Interpreter/#parameters_59","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name."},{"location":"Interpreter/#returns_70","title":"Returns","text":"<p><code>number</code></p> <p>Analog value (0-4095 for ADC1, varies for ADC2).</p>"},{"location":"Interpreter/#gpiotouchread","title":"gpio.touchRead()","text":"<pre><code>gpio.touchRead(pin: string | number): number;\n</code></pre> <p>Reads the capacitive touch sensor value from a pin.</p>"},{"location":"Interpreter/#parameters_60","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name."},{"location":"Interpreter/#returns_71","title":"Returns","text":"<p><code>number</code></p> <p>Touch sensor value.</p>"},{"location":"Interpreter/#gpiodacwrite","title":"gpio.dacWrite()","text":"<pre><code>gpio.dacWrite(pin: string | number, value: number): void;\n</code></pre> <p>Writes a DAC (Digital-to-Analog) value to a pin.</p>"},{"location":"Interpreter/#parameters_61","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>string</code> | <code>number</code> GPIO pin number or name. <code>value</code> <code>number</code> DAC value (0-255)."},{"location":"Interpreter/#returns_72","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#gpioledcsetup","title":"gpio.ledcSetup()","text":"<pre><code>gpio.ledcSetup(\n  channel: number,\n  freq: number,\n  resolution_bits: number,\n): number;\n</code></pre> <p>Configures an LEDC (PWM) channel with a specific frequency and resolution.</p>"},{"location":"Interpreter/#parameters_62","title":"Parameters","text":"Parameter Type Description <code>channel</code> <code>number</code> LEDC channel number (0\u201315). <code>freq</code> <code>number</code> PWM frequency in Hz. <code>resolution_bits</code> <code>number</code> Resolution (1\u201316 bits, defining duty cycle range)."},{"location":"Interpreter/#returns_73","title":"Returns","text":"<p><code>number</code></p> <p>The actual frequency set.</p>"},{"location":"Interpreter/#gpioledcattachpin","title":"gpio.ledcAttachPin()","text":"<pre><code>gpio.ledcAttachPin(pin: number, channel: number): number;\n</code></pre> <p>Attaches a GPIO pin to an LEDC (PWM) channel.</p>"},{"location":"Interpreter/#parameters_63","title":"Parameters","text":"Parameter Type Description <code>pin</code> <code>number</code> GPIO pin number. <code>channel</code> <code>number</code> LEDC channel number (0\u201315)."},{"location":"Interpreter/#returns_74","title":"Returns","text":"<p><code>number</code></p> <p><code>0</code> on success, non-zero on failure.</p>"},{"location":"Interpreter/#gpioledcwrite","title":"gpio.ledcWrite()","text":"<pre><code>gpio.ledcWrite(channel: number, duty: number): number;\n</code></pre> <p>Sets the PWM duty cycle for a specific LEDC (PWM) channel.</p>"},{"location":"Interpreter/#parameters_64","title":"Parameters","text":"Parameter Type Description <code>channel</code> <code>number</code> LEDC channel number (0\u201315). <code>duty</code> <code>number</code> Duty cycle (0 to <code>2^resolution_bits - 1</code>)."},{"location":"Interpreter/#returns_75","title":"Returns","text":"<p><code>number</code></p> <p><code>0</code> on success, non-zero on failure.</p> <p></p>"},{"location":"Interpreter/#ir","title":"ir","text":"<p>Interacting with infrared (IR) signals.</p>"},{"location":"Interpreter/#example_21","title":"Example","text":"<pre><code>const ir = require(\"ir\");\n\nconst signal = ir.read(5); // Waits up to 5 seconds for an IR signal\nconsole.log(\"Received IR signal:\", signal);\n\nconst rawSignal = ir.readRaw(5);\nconsole.log(\"Received raw IR signal:\", rawSignal);\n\nconst success = ir.transmitFile(\"/signals/power_on.ir\");\nconsole.log(\"Transmission successful:\", success);\n</code></pre>"},{"location":"Interpreter/#ir-functions","title":"ir functions","text":"<ul> <li>ir.read()</li> <li>ir.readRaw()</li> <li>ir.transmitFile()</li> </ul>"},{"location":"Interpreter/#irread","title":"ir.read()","text":"<pre><code>ir.read(timeoutSeconds: number): string;\n</code></pre> <p>Reads an infrared signal within a given timeout.</p>"},{"location":"Interpreter/#parameters_65","title":"Parameters","text":"Parameter Type Description <code>timeoutSeconds</code> <code>number</code> Timeout duration in seconds."},{"location":"Interpreter/#returns_76","title":"Returns","text":"<p><code>string</code></p> <p>The received IR signal as a string.</p>"},{"location":"Interpreter/#irreadraw","title":"ir.readRaw()","text":"<pre><code>ir.readRaw(timeoutSeconds: number): string;\n</code></pre> <p>Reads an infrared signal in raw format within a given timeout.</p>"},{"location":"Interpreter/#parameters_66","title":"Parameters","text":"Parameter Type Description <code>timeoutSeconds</code> <code>number</code> Timeout duration in seconds."},{"location":"Interpreter/#returns_77","title":"Returns","text":"<p><code>string</code></p> <p>The raw received IR signal as a string.</p>"},{"location":"Interpreter/#irtransmitfile","title":"ir.transmitFile()","text":"<pre><code>ir.transmitFile(path: string): boolean;\n</code></pre> <p>Transmits an infrared signal stored in a file.</p>"},{"location":"Interpreter/#parameters_67","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> Path to the IR signal file."},{"location":"Interpreter/#returns_78","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the transmission was successful, otherwise <code>false</code>.</p> <p></p>"},{"location":"Interpreter/#keyboard","title":"keyboard","text":"<p>Access the keyboard input.</p>"},{"location":"Interpreter/#example_22","title":"Example","text":"<pre><code>const keyboard = require(\"keyboard\");\n\nwhile (true) {\n  if (keyboard.getAnyPress()) {\n    break; // Exits the loop when a button is pressed.\n  }\n}\n</code></pre>"},{"location":"Interpreter/#keyboard-functions","title":"keyboard functions","text":"<ul> <li>keyboard.getKeysPressed()</li> <li>keyboard.getPrevPress()</li> <li>keyboard.getSelPress()</li> <li>keyboard.getNextPress()</li> <li>keyboard.getEscPress()</li> <li>keyboard.getAnyPress()</li> <li>keyboard.keyboard()</li> </ul>"},{"location":"Interpreter/#keyboardgetkeyspressed","title":"keyboard.getKeysPressed()","text":"<pre><code>keyboard.getKeysPressed(): string[];\n</code></pre> <p>Gets a list of currently pressed keys.</p>"},{"location":"Interpreter/#returns_79","title":"Returns","text":"<p><code>string</code>[]</p> <p>An array of key names.</p>"},{"location":"Interpreter/#keyboardgetprevpress","title":"keyboard.getPrevPress()","text":"<pre><code>keyboard.getPrevPress(hold?: boolean): boolean;\n</code></pre> <p>Checks if the \"previous\" button was pressed.</p>"},{"location":"Interpreter/#parameters_68","title":"Parameters","text":"Parameter Type Description <code>hold</code>? <code>boolean</code> If <code>true</code>, returns <code>true</code> as long as any button is held down. If <code>false</code> or omitted, returns <code>true</code> only on press and repeats every X ms. Default: <code>false</code>."},{"location":"Interpreter/#returns_80","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the button was pressed, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#keyboardgetselpress","title":"keyboard.getSelPress()","text":"<pre><code>keyboard.getSelPress(hold?: boolean): boolean;\n</code></pre> <p>Checks if the \"select\" button was pressed.</p>"},{"location":"Interpreter/#parameters_69","title":"Parameters","text":"Parameter Type Description <code>hold</code>? <code>boolean</code> If <code>true</code>, returns <code>true</code> as long as any button is held down. If <code>false</code> or omitted, returns <code>true</code> only on press and repeats every X ms. Default: <code>false</code>."},{"location":"Interpreter/#returns_81","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the button was pressed, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#keyboardgetnextpress","title":"keyboard.getNextPress()","text":"<pre><code>keyboard.getNextPress(hold?: boolean): boolean;\n</code></pre> <p>Checks if the \"next\" button was pressed.</p>"},{"location":"Interpreter/#parameters_70","title":"Parameters","text":"Parameter Type Description <code>hold</code>? <code>boolean</code> If <code>true</code>, returns <code>true</code> as long as any button is held down. If <code>false</code> or omitted, returns <code>true</code> only on press and repeats every X ms. Default: <code>false</code>."},{"location":"Interpreter/#returns_82","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the button was pressed, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#keyboardgetescpress","title":"keyboard.getEscPress()","text":"<pre><code>keyboard.getEscPress(hold?: boolean): boolean;\n</code></pre> <p>Checks if the \"esc\" button was pressed.</p>"},{"location":"Interpreter/#parameters_71","title":"Parameters","text":"Parameter Type Description <code>hold</code>? <code>boolean</code> If <code>true</code>, returns <code>true</code> as long as any button is held down. If <code>false</code> or omitted, returns <code>true</code> only on press and repeats every X ms. Default: <code>false</code>."},{"location":"Interpreter/#returns_83","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the button was pressed, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#keyboardgetanypress","title":"keyboard.getAnyPress()","text":"<pre><code>keyboard.getAnyPress(hold?: boolean): boolean;\n</code></pre> <p>Checks if any button was pressed.</p>"},{"location":"Interpreter/#parameters_72","title":"Parameters","text":"Parameter Type Description <code>hold</code>? <code>boolean</code> If <code>true</code>, returns <code>true</code> as long as any button is held down. If <code>false</code> or omitted, returns <code>true</code> only on press and repeats every X ms. Default: <code>false</code>."},{"location":"Interpreter/#returns_84","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if any button was pressed, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#keyboardkeyboard","title":"keyboard.keyboard()","text":"<pre><code>keyboard.keyboard(title: string, valueLength: number, value: string): string;\n</code></pre> <p>Opens an on-screen keyboard for user input.</p>"},{"location":"Interpreter/#parameters_73","title":"Parameters","text":"Parameter Type Description <code>title</code> <code>string</code> Title of the keyboard prompt. <code>valueLength</code> <code>number</code> Maximum length of the input value. <code>value</code> <code>string</code> Initial value to display."},{"location":"Interpreter/#returns_85","title":"Returns","text":"<p><code>string</code></p> <p>User input.</p> <p></p>"},{"location":"Interpreter/#notification","title":"notification","text":"<p>Controls the notification LED.</p>"},{"location":"Interpreter/#example_23","title":"Example","text":"<pre><code>const notification = require(\"notification\");\n\nnotification.blink(200); // Blinks the LED for 200ms\ndelay(1000);\nnotification.blink(\"short\"); // Blinks using a predefined short duration\n</code></pre>"},{"location":"Interpreter/#notification-functions","title":"notification functions","text":"<ul> <li>notification.blink()</li> </ul>"},{"location":"Interpreter/#notificationblink","title":"notification.blink()","text":"<pre><code>notification.blink(durationMs: number | \"short\" | \"long\"): void;\n</code></pre> <p>Blinks the notification LED for a specified duration.</p> <p>This function turns the LED on, waits for the given duration, and then turns it off. Equivalent to:</p> <pre><code>digitalWrite(19, HIGH);\ndelay(ms);\ndigitalWrite(19, LOW);\n</code></pre>"},{"location":"Interpreter/#parameters_74","title":"Parameters","text":"Parameter Type Description <code>durationMs</code> <code>number</code> | <code>\"short\"</code> | <code>\"long\"</code> Duration in milliseconds for how long the LED should blink."},{"location":"Interpreter/#returns_86","title":"Returns","text":"<p><code>void</code></p> <p></p>"},{"location":"Interpreter/#serial","title":"serial","text":"<p>Serial communication.</p>"},{"location":"Interpreter/#example_24","title":"Example","text":"<pre><code>const serial = require(\"serial\");\n\nserial.println(\"Hello, Serial Port!\");\nconst input = serial.readln();\nconsole.log(\"Received:\", input);\n</code></pre>"},{"location":"Interpreter/#serial-functions","title":"serial functions","text":"<ul> <li>serial.print()</li> <li>serial.println()</li> <li>serial.readln()</li> <li>serial.cmd()</li> </ul>"},{"location":"Interpreter/#serialprint","title":"serial.print()","text":"<pre><code>serial.print(...args: any[]): void;\n</code></pre> <p>Sends a message over the serial connection without a newline.</p>"},{"location":"Interpreter/#parameters_75","title":"Parameters","text":"Parameter Type Description ...<code>args</code> <code>any</code>[] The values to print."},{"location":"Interpreter/#returns_87","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#serialprintln","title":"serial.println()","text":"<pre><code>serial.println(...args: any[]): void;\n</code></pre> <p>Sends a message over the serial connection with a newline at the end.</p>"},{"location":"Interpreter/#parameters_76","title":"Parameters","text":"Parameter Type Description ...<code>args</code> <code>any</code>[] The values to print."},{"location":"Interpreter/#returns_88","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#serialreadln","title":"serial.readln()","text":"<pre><code>serial.readln(timeoutInMiliseconds?: number): string;\n</code></pre> <p>Reads a line of input from the serial connection.</p>"},{"location":"Interpreter/#parameters_77","title":"Parameters","text":"Parameter Type Description <code>timeoutInMiliseconds</code>? <code>number</code> The time (in miliseconds) to wait for a connection before failing."},{"location":"Interpreter/#returns_89","title":"Returns","text":"<p><code>string</code></p> <p>The received string.</p>"},{"location":"Interpreter/#serialcmd","title":"serial.cmd()","text":"<pre><code>serial.cmd(command: string): boolean;\n</code></pre> <p>Executes a serial command list: https://github.com/pr3y/Bruce/wiki/Serial.</p>"},{"location":"Interpreter/#parameters_78","title":"Parameters","text":"Parameter Type <code>command</code> <code>string</code>"},{"location":"Interpreter/#returns_90","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the command was successful, otherwise <code>false</code>.</p> <p></p>"},{"location":"Interpreter/#storage","title":"storage","text":"<p>File storage operations.</p> <p>This module provides functions for reading, writing, listing, renaming, and deleting files on different storage types.</p>"},{"location":"Interpreter/#example_25","title":"Example","text":"<pre><code>const storage = require(\"storage\");\n\n// Write data to a file\nconst success = storage.write(\"/data/log.txt\", \"Hello, world!\");\nif (success) {\n  console.log(\"File written successfully!\");\n}\n\n// Read data from a file\nconst content = storage.read(\"/data/log.txt\");\nconsole.log(\"File content:\", content);\n\n// Rename a file\nconst renamed = storage.rename(\"/data/log.txt\", \"/data/log_old.txt\");\nconsole.log(\"Rename successful:\", renamed);\n\n// Delete a file\nconst deleted = storage.delete(\"/data/log_old.txt\");\nconsole.log(\"Delete successful:\", deleted);\n\n// List directory contents\nconst files = storage.readdir(\"/data\", { withFileTypes: true });\nconsole.log(\"Files:\\n\", JSON.stringify(files, null, 2));\n\n// Create a new directory\nstorage.mkdir(\"/data/newdir\");\n\n// Remove a directory\nstorage.rmdir(\"/data/newdir\");\n</code></pre>"},{"location":"Interpreter/#storage-functions","title":"storage functions","text":"<ul> <li>storage.Dirent</li> <li>storage.read()</li> <li>storage.write()</li> <li>storage.readdir()</li> <li>storage.rename()</li> <li>storage.remove()</li> <li>storage.mkdir()</li> <li>storage.rmdir()</li> </ul>"},{"location":"Interpreter/#storagedirent","title":"storage.Dirent","text":"<p>Directory entry representing a file or directory.</p>"},{"location":"Interpreter/#properties_1","title":"Properties","text":"Property Type <code>name</code> <code>string</code> <code>size</code> <code>number</code> <code>isDirectory</code> <code>boolean</code>"},{"location":"Interpreter/#storageread","title":"storage.read()","text":""},{"location":"Interpreter/#call-signature_2","title":"Call Signature","text":"<pre><code>storage.read(path: string | Path, binary?: false): string;\n</code></pre> <p>Reads the content of a file.</p>"},{"location":"Interpreter/#parameters_79","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the file. Supports: - A string path (e.g., <code>\"/file.txt\"</code>). - A <code>Path</code> object specifying storage <code>{ fs: \"sd\", path: \"/file.txt\" }</code>. <code>binary</code>? <code>false</code> If <code>true</code>, returns the file content as a <code>Uint8Array</code> (default: <code>false</code>)."},{"location":"Interpreter/#returns_91","title":"Returns","text":"<p><code>string</code></p> <p>The file content as:</p> <ul> <li>A <code>string</code> if <code>binary</code> is <code>false</code> or omitted.</li> <li>A <code>Uint8Array</code> if <code>binary</code> is <code>true</code>.</li> </ul>"},{"location":"Interpreter/#call-signature_3","title":"Call Signature","text":"<pre><code>storage.read(path: string | Path, binary: true): Uint8Array;\n</code></pre> <p>Reads the content of a file.</p>"},{"location":"Interpreter/#parameters_80","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the file. Supports: - A string path (e.g., <code>\"/file.txt\"</code>). - A <code>Path</code> object specifying storage <code>{ fs: \"sd\", path: \"/file.txt\" }</code>. <code>binary</code> <code>true</code> If <code>true</code>, returns the file content as a <code>Uint8Array</code> (default: <code>false</code>)."},{"location":"Interpreter/#returns_92","title":"Returns","text":"<p><code>Uint8Array</code></p> <p>The file content as:</p> <ul> <li>A <code>string</code> if <code>binary</code> is <code>false</code> or omitted.</li> <li>A <code>Uint8Array</code> if <code>binary</code> is <code>true</code>.</li> </ul>"},{"location":"Interpreter/#storagewrite","title":"storage.write()","text":"<pre><code>storage.write(\n  path: string | Path,\n  data: string | Uint8Array,\n  mode?: \"write\" | \"append\",\n  position?: string | number,\n): boolean;\n</code></pre> <p>Writes data to a file, optionally inserting at a specific position.</p>"},{"location":"Interpreter/#parameters_81","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The file path. Supports: - A string like <code>\"/file.txt\"</code>. - A <code>Path</code> object like <code>{ fs: \"sd\", path: \"/file.txt\" }</code>. <code>data</code> <code>string</code> | <code>Uint8Array</code> The content to write. Can be a <code>string</code> or <code>Uint8Array</code>. <code>mode</code>? <code>\"write\"</code> | <code>\"append\"</code> How to write: - <code>\"write\"</code> (default): Replace the file content. - <code>\"append\"</code>: Add to the end of the file. <code>position</code>? <code>string</code> | <code>number</code> Where to insert the data: - A <code>number</code>: Insert at this byte position. - A <code>string</code>: Insert before the first time this text appears. - <code>\"end\"</code>: Add to the end (default for <code>\"append\"</code> mode)."},{"location":"Interpreter/#returns_93","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if writing was successful, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#storagereaddir","title":"storage.readdir()","text":""},{"location":"Interpreter/#call-signature_4","title":"Call Signature","text":"<pre><code>storage.readdir(\n  path: string | Path,\n  options?: {\n    withFileTypes: false;\n  },\n): string[];\n</code></pre> <p>Lists the contents of a directory.</p>"},{"location":"Interpreter/#parameters_82","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The directory path. Supports: - A string path (e.g., <code>\"/file.txt\"</code>). - A <code>Path</code> object specifying storage <code>{ fs: \"sd\", path: \"/file.txt\" }</code>. <code>options</code>? { <code>withFileTypes</code>: <code>false</code>; } - <code>options.withFileTypes</code>? <code>false</code> -"},{"location":"Interpreter/#returns_94","title":"Returns","text":"<p><code>string</code>[]</p> <p>An array of files and directories names in the directory.</p>"},{"location":"Interpreter/#call-signature_5","title":"Call Signature","text":"<pre><code>storage.readdir(\n  path: string | Path,\n  options: {\n    withFileTypes: true;\n  },\n): Dirent[];\n</code></pre> <p>Lists the contents of a directory.</p>"},{"location":"Interpreter/#parameters_83","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The directory path. Supports: - A string path (e.g., <code>\"/file.txt\"</code>). - A <code>Path</code> object specifying storage <code>{ fs: \"sd\", path: \"/file.txt\" }</code>. <code>options</code> { <code>withFileTypes</code>: <code>true</code>; } If <code>{ withFileTypes: true }</code>, returns an array of <code>Dirent</code> objects with file type info. <code>options.withFileTypes</code> <code>true</code> -"},{"location":"Interpreter/#returns_95","title":"Returns","text":"<p><code>Dirent</code>[]</p> <p>An array of filenames or <code>Dirent</code> objects if <code>withFileTypes</code> is <code>true</code>.</p>"},{"location":"Interpreter/#storagerename","title":"storage.rename()","text":"<pre><code>storage.rename(oldPath: string | Path, newPath: string): boolean;\n</code></pre> <p>Renames a file or directory.</p>"},{"location":"Interpreter/#parameters_84","title":"Parameters","text":"Parameter Type Description <code>oldPath</code> <code>string</code> | <code>Path</code> The current path of the file or directory. Supports: - A string path (e.g., <code>\"/file.txt\"</code>). - A <code>Path</code> object specifying storage <code>{ fs: \"sd\", path: \"/file.txt\" }</code>. <code>newPath</code> <code>string</code> The new path."},{"location":"Interpreter/#returns_96","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the rename operation was successful, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#storageremove","title":"storage.remove()","text":"<pre><code>storage.remove(path: string | Path): boolean;\n</code></pre> <p>Deletes a file or directory.</p>"},{"location":"Interpreter/#parameters_85","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path of the file or directory to delete. Supports: - A string path (e.g., <code>\"/file.txt\"</code>). - A <code>Path</code> object specifying storage <code>{ fs: \"sd\", path: \"/file.txt\" }</code>."},{"location":"Interpreter/#returns_97","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the delete operation was successful, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#storagemkdir","title":"storage.mkdir()","text":"<pre><code>storage.mkdir(path: string | Path): boolean;\n</code></pre> <p>Creates a directory, including parent directories if necessary.</p>"},{"location":"Interpreter/#parameters_86","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the directory."},{"location":"Interpreter/#returns_98","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the directory was successfully created, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#storagermdir","title":"storage.rmdir()","text":"<pre><code>storage.rmdir(path: string | Path): boolean;\n</code></pre> <p>Removes an empty directory.</p>"},{"location":"Interpreter/#parameters_87","title":"Parameters","text":"Parameter Type Description <code>path</code> <code>string</code> | <code>Path</code> The path to the directory."},{"location":"Interpreter/#returns_99","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the directory was successfully removed, otherwise <code>false</code>.</p> <p></p>"},{"location":"Interpreter/#subghz","title":"subghz","text":"<p>Sub-GHz communication.</p> <p>This module allows interaction with Sub-GHz frequencies for reading and transmitting data.</p>"},{"location":"Interpreter/#example_26","title":"Example","text":"<pre><code>const subghz = require(\"subghz\");\n\n// Set frequency to 433 MHz\nsubghz.setFrequency(433);\n\n// Read incoming signal for 5 seconds\nconst receivedData = subghz.read(5);\nconsole.log(\"Received Data:\", receivedData);\n\n// Transmit a stored signal file\nconst success = subghz.transmitFile(\"/plug1_on.sub\");\nif (success) {\n  console.log(\"Transmission successful!\");\n}\n</code></pre>"},{"location":"Interpreter/#subghz-functions","title":"subghz functions","text":"<ul> <li>subghz.setFrequency()</li> <li>subghz.read()</li> <li>subghz.readRaw()</li> <li>subghz.transmitFile()</li> </ul>"},{"location":"Interpreter/#subghzsetfrequency","title":"subghz.setFrequency()","text":"<pre><code>subghz.setFrequency(freq: number): void;\n</code></pre> <p>Sets the frequency for Sub-GHz communication.</p>"},{"location":"Interpreter/#parameters_88","title":"Parameters","text":"Parameter Type Description <code>freq</code> <code>number</code> Frequency in MHz (e.g., 433 for 433 MHz)."},{"location":"Interpreter/#returns_100","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#subghzread","title":"subghz.read()","text":"<pre><code>subghz.read(timeoutSeconds: number): string;\n</code></pre> <p>Reads an incoming signal.</p>"},{"location":"Interpreter/#parameters_89","title":"Parameters","text":"Parameter Type Description <code>timeoutSeconds</code> <code>number</code> Maximum time in seconds to wait for a signal."},{"location":"Interpreter/#returns_101","title":"Returns","text":"<p><code>string</code></p> <p>The received signal as a string.</p>"},{"location":"Interpreter/#subghzreadraw","title":"subghz.readRaw()","text":"<pre><code>subghz.readRaw(timeoutSeconds: number): string;\n</code></pre> <p>Reads raw incoming signal data.</p>"},{"location":"Interpreter/#parameters_90","title":"Parameters","text":"Parameter Type Description <code>timeoutSeconds</code> <code>number</code> Maximum time in seconds to wait for a signal."},{"location":"Interpreter/#returns_102","title":"Returns","text":"<p><code>string</code></p> <p>The raw received signal as a string.</p>"},{"location":"Interpreter/#subghztransmitfile","title":"subghz.transmitFile()","text":"<pre><code>subghz.transmitFile(filename: string): boolean;\n</code></pre> <p>Transmits a saved signal from a file.</p>"},{"location":"Interpreter/#parameters_91","title":"Parameters","text":"Parameter Type Description <code>filename</code> <code>string</code> The path to the file containing the signal to transmit."},{"location":"Interpreter/#returns_103","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if the transmission was successful, otherwise <code>false</code>.</p> <p></p>"},{"location":"Interpreter/#wifi","title":"wifi","text":"<p>Wi-Fi connection and HTTP requests.</p>"},{"location":"Interpreter/#example_27","title":"Example","text":"<pre><code>const wifi = require(\"wifi\");\n\nif (!wifi.connected()) {\n  wifi.connect(\"MySSID\", 10, \"password123\");\n}\n\nconst networks = wifi.scan();\nconsole.log(\"Available Networks:\", networks);\n\nconst response = wifi.httpFetch(\"https://example.com/api\", {\n  method: \"GET\",\n  headers: { \"Content-Type\": \"application/json\" },\n});\nconsole.log(response.body);\n</code></pre>"},{"location":"Interpreter/#wifi-functions","title":"wifi functions","text":"<ul> <li>wifi.connected()</li> <li>wifi.connect()</li> <li>wifi.connectDialog()</li> <li>wifi.disconnect()</li> <li>wifi.scan()</li> <li>wifi.httpFetch()</li> </ul>"},{"location":"Interpreter/#wificonnected","title":"wifi.connected()","text":"<pre><code>wifi.connected(): boolean;\n</code></pre> <p>Checks if the device is connected to a Wi-Fi network.</p>"},{"location":"Interpreter/#returns_104","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if connected, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#wificonnect","title":"wifi.connect()","text":"<pre><code>wifi.connect(\n  ssid: string,\n  timeoutInSeconds: number,\n  password: string,\n): boolean;\n</code></pre> <p>Connects to a Wi-Fi network.</p>"},{"location":"Interpreter/#parameters_92","title":"Parameters","text":"Parameter Type Description <code>ssid</code> <code>string</code> The name of the Wi-Fi network (SSID). <code>timeoutInSeconds</code> <code>number</code> The time (in seconds) to wait for a connection before failing. <code>password</code> <code>string</code> The Wi-Fi password."},{"location":"Interpreter/#returns_105","title":"Returns","text":"<p><code>boolean</code></p> <p><code>true</code> if successfully connected, otherwise <code>false</code>.</p>"},{"location":"Interpreter/#wificonnectdialog","title":"wifi.connectDialog()","text":"<pre><code>wifi.connectDialog(): void;\n</code></pre> <p>Opens a dialog to select and connect to a Wi-Fi network.</p>"},{"location":"Interpreter/#returns_106","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#wifidisconnect","title":"wifi.disconnect()","text":"<pre><code>wifi.disconnect(): void;\n</code></pre> <p>Disconnects from the current Wi-Fi network.</p>"},{"location":"Interpreter/#returns_107","title":"Returns","text":"<p><code>void</code></p>"},{"location":"Interpreter/#wifiscan","title":"wifi.scan()","text":"<pre><code>wifi.scan(): {\n  encryptionType:\n    | \"OPEN\"\n    | \"WEP\"\n    | \"WPA_PSK\"\n    | \"WPA2_PSK\"\n    | \"WPA_WPA2_PSK\"\n    | \"ENTERPRISE\"\n    | \"WPA2_ENTERPRISE\"\n    | \"WPA3_PSK\"\n    | \"WPA2_WPA3_PSK\"\n    | \"WAPI_PSK\"\n    | \"WPA3_ENT_192\"\n    | \"MAX\";\n  SSID: string;\n  MAC: string;\n}[];\n</code></pre> <p>Scans for available Wi-Fi networks.</p>"},{"location":"Interpreter/#returns_108","title":"Returns","text":"<p>{ <code>encryptionType</code>: | <code>\"OPEN\"</code> | <code>\"WEP\"</code> | <code>\"WPA_PSK\"</code> | <code>\"WPA2_PSK\"</code> | <code>\"WPA_WPA2_PSK\"</code> | <code>\"ENTERPRISE\"</code> | <code>\"WPA2_ENTERPRISE\"</code> | <code>\"WPA3_PSK\"</code> | <code>\"WPA2_WPA3_PSK\"</code> | <code>\"WAPI_PSK\"</code> | <code>\"WPA3_ENT_192\"</code> | <code>\"MAX\"</code>; <code>SSID</code>: <code>string</code>; <code>MAC</code>: <code>string</code>; }[]</p> <p>An array of available networks, each containing:</p> <ul> <li><code>encryptionType</code>: The type of encryption used (e.g., WPA2, WEP).</li> <li><code>SSID</code>: The name of the network.</li> <li><code>MAC</code>: The MAC address of the access point.</li> </ul>"},{"location":"Interpreter/#wifihttpfetch","title":"wifi.httpFetch()","text":""},{"location":"Interpreter/#call-signature_6","title":"Call Signature","text":"<pre><code>wifi.httpFetch(\n  url: string,\n  options?: {\n    method:\n      | \"GET\"\n      | \"POST\"\n      | \"DELETE\"\n      | \"PATCH\"\n      | \"PUT\"\n      | \"HEAD\"\n      | \"OPTIONS\"\n      | \"TRACE\"\n      | \"CONNECT\";\n    body: string;\n    binaryResponse: false;\n    headers: string[] | [string, string][] | Record&lt;string, string&gt;;\n  },\n): {\n  status: number;\n  ok: boolean;\n  body: string;\n};\n</code></pre> <p>Performs an HTTP request.</p>"},{"location":"Interpreter/#parameters_93","title":"Parameters","text":"Parameter Type Description <code>url</code> <code>string</code> The URL to fetch. <code>options</code>? { <code>method</code>: | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code>; <code>body</code>: <code>string</code>; <code>binaryResponse</code>: <code>false</code>; <code>headers</code>: <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;; } Request options including method, body, and headers. <code>options.method</code>? | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code> - <code>options.body</code>? <code>string</code> - <code>options.binaryResponse</code>? <code>false</code> - <code>options.headers</code>? <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt; -"},{"location":"Interpreter/#returns_109","title":"Returns","text":"<pre><code>{\n  status: number;\n  ok: boolean;\n  body: string;\n}\n</code></pre> <p>An object containing:</p> <ul> <li><code>status</code>: The HTTP response status code (e.g., <code>200</code>, <code>404</code>).</li> <li><code>ok</code>: <code>true</code> if the response status is 200-299, otherwise <code>false</code>.</li> <li><code>body</code>: The response body as a string.</li> </ul> Name Type <code>status</code> <code>number</code> <code>ok</code> <code>boolean</code> <code>body</code> <code>string</code>"},{"location":"Interpreter/#call-signature_7","title":"Call Signature","text":"<pre><code>wifi.httpFetch(\n  url: string,\n  options?: {\n    method:\n      | \"GET\"\n      | \"POST\"\n      | \"DELETE\"\n      | \"PATCH\"\n      | \"PUT\"\n      | \"HEAD\"\n      | \"OPTIONS\"\n      | \"TRACE\"\n      | \"CONNECT\";\n    body: string;\n    responseType: \"string\";\n    headers: string[] | [string, string][] | Record&lt;string, string&gt;;\n  },\n): {\n  status: number;\n  ok: boolean;\n  body: string;\n};\n</code></pre> <p>Performs an HTTP request.</p>"},{"location":"Interpreter/#parameters_94","title":"Parameters","text":"Parameter Type Description <code>url</code> <code>string</code> The URL to fetch. <code>options</code>? { <code>method</code>: | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code>; <code>body</code>: <code>string</code>; <code>responseType</code>: <code>\"string\"</code>; <code>headers</code>: <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;; } Request options including method, body, and headers. <code>options.method</code>? | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code> - <code>options.body</code>? <code>string</code> - <code>options.responseType</code>? <code>\"string\"</code> - <code>options.headers</code>? <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt; -"},{"location":"Interpreter/#returns_110","title":"Returns","text":"<pre><code>{\n  status: number;\n  ok: boolean;\n  body: string;\n}\n</code></pre> <p>An object containing:</p> <ul> <li><code>status</code>: The HTTP response status code (e.g., <code>200</code>, <code>404</code>).</li> <li><code>ok</code>: <code>true</code> if the response status is 200-299, otherwise <code>false</code>.</li> <li><code>body</code>: The response body as a string.</li> </ul> Name Type <code>status</code> <code>number</code> <code>ok</code> <code>boolean</code> <code>body</code> <code>string</code>"},{"location":"Interpreter/#call-signature_8","title":"Call Signature","text":"<pre><code>wifi.httpFetch(\n  url: string,\n  options?: {\n    method:\n      | \"GET\"\n      | \"POST\"\n      | \"DELETE\"\n      | \"PATCH\"\n      | \"PUT\"\n      | \"HEAD\"\n      | \"OPTIONS\"\n      | \"TRACE\"\n      | \"CONNECT\";\n    body: string;\n    responseType: \"binary\";\n    headers: string[] | [string, string][] | Record&lt;string, string&gt;;\n  },\n): {\n  status: number;\n  ok: boolean;\n  body: Uint8Array;\n};\n</code></pre> <p>Performs an HTTP request.</p>"},{"location":"Interpreter/#parameters_95","title":"Parameters","text":"Parameter Type Description <code>url</code> <code>string</code> The URL to fetch. <code>options</code>? { <code>method</code>: | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code>; <code>body</code>: <code>string</code>; <code>responseType</code>: <code>\"binary\"</code>; <code>headers</code>: <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;; } Request options including method, body, and headers. <code>options.method</code>? | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code> - <code>options.body</code>? <code>string</code> - <code>options.responseType</code>? <code>\"binary\"</code> - <code>options.headers</code>? <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt; -"},{"location":"Interpreter/#returns_111","title":"Returns","text":"<pre><code>{\n  status: number;\n  ok: boolean;\n  body: Uint8Array;\n}\n</code></pre> <p>An object containing:</p> <ul> <li><code>status</code>: The HTTP response status code (e.g., <code>200</code>, <code>404</code>).</li> <li><code>ok</code>: <code>true</code> if the response status is 200-299, otherwise <code>false</code>.</li> <li><code>body</code>: The response body as a string.</li> </ul> Name Type <code>status</code> <code>number</code> <code>ok</code> <code>boolean</code> <code>body</code> <code>Uint8Array</code>"},{"location":"Interpreter/#call-signature_9","title":"Call Signature","text":"<pre><code>wifi.httpFetch(\n  url: string,\n  options?: {\n    method:\n      | \"GET\"\n      | \"POST\"\n      | \"DELETE\"\n      | \"PATCH\"\n      | \"PUT\"\n      | \"HEAD\"\n      | \"OPTIONS\"\n      | \"TRACE\"\n      | \"CONNECT\";\n    body: string;\n    responseType: \"string\" | \"binary\";\n    headers: string[] | [string, string][] | Record&lt;string, string&gt;;\n  },\n): {\n  status: number;\n  ok: boolean;\n  body: string | Uint8Array;\n};\n</code></pre> <p>Performs an HTTP request.</p>"},{"location":"Interpreter/#parameters_96","title":"Parameters","text":"Parameter Type Description <code>url</code> <code>string</code> The URL to fetch. <code>options</code>? { <code>method</code>: | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code>; <code>body</code>: <code>string</code>; <code>responseType</code>: <code>\"string\"</code> | <code>\"binary\"</code>; <code>headers</code>: <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;; } Request options including method, body, and headers. <code>options.method</code>? | <code>\"GET\"</code> | <code>\"POST\"</code> | <code>\"DELETE\"</code> | <code>\"PATCH\"</code> | <code>\"PUT\"</code> | <code>\"HEAD\"</code> | <code>\"OPTIONS\"</code> | <code>\"TRACE\"</code> | <code>\"CONNECT\"</code> - <code>options.body</code>? <code>string</code> - <code>options.responseType</code>? <code>\"string\"</code> | <code>\"binary\"</code> - <code>options.headers</code>? <code>string</code>[] | [<code>string</code>, <code>string</code>][] | <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt; -"},{"location":"Interpreter/#returns_112","title":"Returns","text":"<pre><code>{\n  status: number;\n  ok: boolean;\n  body: string | Uint8Array;\n}\n</code></pre> <p>An object containing:</p> <ul> <li><code>status</code>: The HTTP response status code (e.g., <code>200</code>, <code>404</code>).</li> <li><code>ok</code>: <code>true</code> if the response status is 200-299, otherwise <code>false</code>.</li> <li><code>body</code>: The response body as a string.</li> </ul> Name Type <code>status</code> <code>number</code> <code>ok</code> <code>boolean</code> <code>body</code> <code>string</code> | <code>Uint8Array</code>"},{"location":"InterpreterLegacy/","title":"InterpreterLegacy","text":""},{"location":"InterpreterLegacy/#manual-for-coding-in-javascript-to-bruce","title":"Manual for Coding in JavaScript to Bruce","text":"<p>This section was ported from justinknight93/Doolittle, who made a very nice job with its JavaScript interpreter</p> <p>Some changes were made and some new functions were added, and more are to be add.</p> <p>Some example scripts are here.</p> <p>You can copy your favourite scripts in the <code>/scripts</code> folder and have them listed in the \"Scripts\" menu.</p> <p>For easier development, you can use this bash script to upload code directly via serial.</p> <p>API Reference for Native Functions Accessible from JS:</p> <ul> <li>General</li> <li>Board info</li> <li>Wifi</li> <li>TFT Display</li> <li>Keyboard</li> <li>Storage</li> <li>Serial</li> <li>Audio</li> <li>IR</li> <li>Subghz</li> <li>Badusb</li> </ul> <p>New alternative Flipper-like API</p>"},{"location":"InterpreterLegacy/#general","title":"General","text":""},{"location":"InterpreterLegacy/#loadscript-string","title":"<code>load(script: string)</code>","text":"<p>Description: Sets the script to be executed next when the current script ends. </p> <p>Parameters: - <code>script</code> (string): The JavaScript code as a string to be loaded.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#now","title":"<code>now()</code>","text":"<p>Description: Returns the current time in milliseconds since the epoch.</p> <p>Returns: <code>number</code>: The current timestamp in milliseconds.</p>"},{"location":"InterpreterLegacy/#delayms-number","title":"<code>delay(ms: number)</code>","text":"<p>Description: Pauses execution for the specified number of milliseconds.</p> <p>Parameters: - <code>ms</code> (number): The number of milliseconds to delay.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#digitalwritepin-number-value-boolean","title":"<code>digitalWrite(pin: number, value: boolean)</code>","text":"<p>Description: Sets the digital value (HIGH or LOW) for a specified pin.</p> <p>Parameters: - <code>pin</code> (number): The pin number. - <code>value</code> (boolean): The value to write (true for HIGH, false for LOW).</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#analogwritepin-number-value-int","title":"<code>analogWrite(pin: number, value: int)</code>","text":"<p>same as arduino's function</p>"},{"location":"InterpreterLegacy/#digitalreadpin-number","title":"<code>digitalRead(pin: number)</code>","text":"<p>same as arduino's function</p>"},{"location":"InterpreterLegacy/#analogreadpin-number","title":"<code>analogRead(pin: number)</code>","text":"<p>same as arduino's function</p>"},{"location":"InterpreterLegacy/#pinmodepin-number-mode-number","title":"<code>pinMode(pin: number, mode: number)</code>","text":"<p>Description: Configures the specified pin to behave as an input or an output.</p> <p>Parameters: - <code>pin</code> (number): The pin number. - <code>mode</code> (number): The mode to set (INPUT, OUTPUT, etc.).</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#get-some-board-information","title":"Get some board information","text":""},{"location":"InterpreterLegacy/#getbattery","title":"<code>getBattery</code>","text":"<p>Description: Get and integer from 0 to 100 relative to the battery level.</p> <p>Returns: <code>number</code>: 0-100 battery level.</p>"},{"location":"InterpreterLegacy/#getboard","title":"<code>getBoard</code>","text":"<p>Description: Get and integer from 0 to 100 relative to the battery level.</p> <p>Returns: <code>string[]</code>: \"StickCPlus\", \"StickCPlus2\", \"Cardputer\", \"Core2\", \"Core\", \"CoreS3/SE\".</p>"},{"location":"InterpreterLegacy/#wifi-functions","title":"WiFi functions","text":""},{"location":"InterpreterLegacy/#wificonnectdialog","title":"<code>wifiConnectDialog()</code>","text":"<p>Description: Open Bruce WiFi connection menu.</p>"},{"location":"InterpreterLegacy/#wificonnectssid-string","title":"<code>wifiConnect(ssid : string)</code>","text":""},{"location":"InterpreterLegacy/#wificonnectssid-string-timeout_in_seconds-number","title":"<code>wifiConnect(ssid : string, timeout_in_seconds : number)</code>","text":""},{"location":"InterpreterLegacy/#wificonnectssid-string-timeout_in_seconds-number-pwd-string","title":"<code>wifiConnect(ssid : string, timeout_in_seconds : number, pwd : string)</code>","text":"<p>Description: Connects to the specified wifi network (without opening any menu).</p> <p>Parameters: - <code>ssid</code> (string): Network name. - <code>timeout_in_seconds</code> (number): retry connecting. Defaults to 10 seconds if unspecified. - <code>pwd</code> (string): Network password (optional for open networks)</p> <p>Returns: boolean. Returns <code>true</code> if connection was successful, <code>false</code> otherwise.</p>"},{"location":"InterpreterLegacy/#wifidisconnect","title":"<code>wifiDisconnect()</code>","text":"<p>Description: Disconnect Wifi.</p>"},{"location":"InterpreterLegacy/#wifiscan","title":"<code>wifiScan()</code>","text":"<p>Description: scan for available wifi networks. Also disconnect from current wifi network to perform the scan.</p> <p>Returns: <code>object</code>: An object array with 3 properties:   - <code>SSID</code> (string): The network name.   - <code>encryptionType</code> (string): The network encryptionType. Possible values: <code>\"UNKNOWN\", \"TKIP/WPA\", \"WEP\",\"CCMP/WPA\",\"NONE\",\"AUTO\"</code>   - <code>MAC</code> (string): The AP MAC address.</p>"},{"location":"InterpreterLegacy/#httpgeturl-string","title":"<code>httpGet(url: string)</code>","text":""},{"location":"InterpreterLegacy/#httpgeturl-string-headers-string","title":"<code>httpGet(url: string, headers: string[])</code>","text":"<p>Description: Performs an HTTP GET request to the specified URL. Optionally includes headers.</p> <p>Parameters: - <code>url</code> (string): The URL to send the GET request to. - <code>headers</code> (string[]): An array of headers to include in the request. Headers should be provided as key-value pairs in the array. Example: <code>[     \"Content-Type\", \"application/json\",     \"Authorization\", \"Bearer your_token_here\",     \"Accept\", \"application/json\" ]</code></p> <p>Returns: <code>object</code>: An object with two properties:   - <code>response</code> (number): The HTTP response code.   - <code>body</code> (string): The response body.</p>"},{"location":"InterpreterLegacy/#tft-display-functions","title":"TFT Display Functions","text":""},{"location":"InterpreterLegacy/#colorr-number-g-number-b-number","title":"<code>color(r: number, g: number, b: number)</code>","text":"<p>Description: Creates a color from the given RGB values.</p> <p>Parameters: - <code>r</code> (number): The red component (0-255). - <code>g</code> (number): The green component (0-255). - <code>b</code> (number): The blue component (0-255).</p> <p>Returns: <code>number</code>: The color value in 16-bit RGB format.</p>"},{"location":"InterpreterLegacy/#settextcolorcolor-number","title":"<code>setTextColor(color: number)</code>","text":"<p>Description: Sets the text color for drawing operations.</p> <p>Parameters: - <code>color</code> (number): The color value in 16-bit RGB format.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#settextsizesize-number","title":"<code>setTextSize(size: number)</code>","text":"<p>Description: Sets the text size for drawing operations.</p> <p>Parameters: - <code>size</code> (number): The text size multiplier.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#drawrectx-number-y-number-width-number-height-number-color-number","title":"<code>drawRect(x: number, y: number, width: number, height: number, color: number)</code>","text":"<p>Description: Draws a rectangle with the specified parameters.</p> <p>Parameters: - <code>x</code> (number): The x-coordinate of the top-left corner. - <code>y</code> (number): The y-coordinate of the top-left corner. - <code>width</code> (number): The width of the rectangle. - <code>height</code> (number): The height of the rectangle. - <code>color</code> (number): The color value in 16-bit RGB format.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#drawfillrectx-number-y-number-width-number-height-number-color-number","title":"<code>drawFillRect(x: number, y: number, width: number, height: number, color: number)</code>","text":"<p>Description: Draws a filled rectangle with the specified parameters.</p> <p>Parameters: - <code>x</code> (number): The x-coordinate of the top-left corner. - <code>y</code> (number): The y-coordinate of the top-left corner. - <code>width</code> (number): The width of the rectangle. - <code>height</code> (number): The height of the rectangle. - <code>color</code> (number): The color value in 16-bit RGB format.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#drawstringtext-string-x-number-y-number","title":"<code>drawString(text: string, x: number, y: number)</code>","text":"<p>Description: Draws the specified text at the given coordinates.</p> <p>Parameters: - <code>text</code> (string): The text to draw. - <code>x</code> (number): The x-coordinate where the text starts. - <code>y</code> (number): The y-coordinate where the text starts.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#width","title":"<code>width()</code>","text":"<p>Description: Returns the width of the display.</p> <p>Returns: <code>number</code>: The width of the display in pixels.</p>"},{"location":"InterpreterLegacy/#height","title":"<code>height()</code>","text":"<p>Description: Returns the height of the display.</p> <p>Returns: <code>number</code>: The height of the display in pixels.</p>"},{"location":"InterpreterLegacy/#drawlinex-number-y-number-x2-number-y2-number-color-number","title":"<code>drawLine(x: number, y: number, x2: number, y2: number, color: number)</code>","text":"<p>Description: Draws a line with the specified parameters.</p> <p>Parameters:</p> <ul> <li><code>x</code> (number): The x-coordinate of the starting point.</li> <li><code>y</code> (number): The y-coordinate of the starting point.</li> <li><code>x2</code> (number): The x-coordinate of the final point.</li> <li><code>y2</code> (number): The y-coordinate of the final point.</li> <li><code>color</code> (number): The color value in 16-bit RGB format.</li> </ul> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#drawpixelx-number-y-number-color-number","title":"<code>drawPixel(x: number, y: number, color: number)</code>","text":"<p>Description: Draws a single pixel on screen.</p> <p>Parameters:</p> <ul> <li><code>x</code> (number): The x-coordinate of the pixel.</li> <li><code>y</code> (number): The y-coordinate of the pixel.</li> <li><code>color</code> (number): The color value in 16-bit RGB format.</li> </ul> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#fillscreencolor-number","title":"<code>fillScreen(color: number)</code>","text":"<p>Description: Fill the screen with the specified color.</p> <p>Parameters:</p> <ul> <li><code>color</code> (number): The color value in 16-bit RGB format.</li> </ul> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#dialogmessagemsg-string","title":"<code>dialogMessage(msg : string)</code>","text":"<p>Description: Show a message dialog.</p> <p>Parameters:</p> <ul> <li><code>msg</code> (string): The message text.</li> </ul> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#dialogerrormsg-string","title":"<code>dialogError(msg : string)</code>","text":"<p>Description: Show an error message dialog.</p> <p>Parameters:</p> <ul> <li><code>msg</code> (string): The message text.</li> </ul> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#dialogpickfilepath-string","title":"<code>dialogPickFile(path : string)</code>","text":"<p>Description: Show a file picker dialog.</p> <p>Parameters:</p> <ul> <li><code>path</code> (string): Root path (optional, defaults to SDcard root if unspecified)</li> </ul> <p>Returns: <code>string</code>. Selected file full path, or empty string if cancelled.</p>"},{"location":"InterpreterLegacy/#dialogchoicechoices-string","title":"<code>dialogChoice(choices : string[])</code>","text":"<p>Description: Show a dialog with multiple choices.</p> <p>Parameters:</p> <ul> <li><code>choices</code>: an all the choices to show.  Choices should be provided as key-value pairs in the array. Example: <code>[ \"choice1\", \"return_val1\", \"choice2\", \"return_val2\", ...]</code></li> </ul> <p>Returns: <code>string</code>. Selected choice value, or empty string if cancelled.</p>"},{"location":"InterpreterLegacy/#dialogviewfilepath-string","title":"<code>dialogViewFile(path : string)</code>","text":"<p>Description: Show a file viewer dialog.</p> <p>Parameters:</p> <ul> <li><code>path</code> (string): file pathname to view.</li> </ul> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#keyboard","title":"<code>keyboard()</code>","text":""},{"location":"InterpreterLegacy/#keyboardinitval-string","title":"<code>keyboard(initval : string)</code>","text":""},{"location":"InterpreterLegacy/#keyboardinitval-string-maxlen-number","title":"<code>keyboard(initval : string, maxlen : number)</code>","text":""},{"location":"InterpreterLegacy/#keyboardinitval-string-maxlen-number-title-string","title":"<code>keyboard(initval : string, maxlen : number,  title : string)</code>","text":"<p>Description: Show a text input dialog.</p> <p>Parameters:</p> <ul> <li><code>initval</code> (string): initial text field value (optional).</li> <li><code>maxlen</code> (number): max input string lenght (optional).</li> <li><code>title</code> (string): dialog title (optional).</li> </ul> <p>Returns: <code>string</code>. Typed string, or empty string if cancelled.</p>"},{"location":"InterpreterLegacy/#keyboard-inputs","title":"Keyboard Inputs","text":""},{"location":"InterpreterLegacy/#getanypress","title":"<code>getAnyPress()</code>","text":"<p>Description: check if any key/button is pressed;</p> <p>Returns: <code>boolean</code>: Returns <code>true</code> if any key/button is pressed, or <code>false</code> otherwise.</p>"},{"location":"InterpreterLegacy/#getprevpress","title":"<code>getPrevPress()</code>","text":"<p>Description: Return the current state of 'Previous' button;</p> <p>Returns: <code>boolean</code>: Returns <code>true</code> if pressed and <code>false</code> if not pressed</p>"},{"location":"InterpreterLegacy/#getselpress","title":"<code>getSelPress()</code>","text":"<p>Description: Return the current state of 'Select' button;</p> <p>Returns: <code>boolean</code>: Returns <code>true</code> if pressed and <code>false</code> if not pressed</p>"},{"location":"InterpreterLegacy/#getnextpress","title":"<code>getNextPress()</code>","text":"<p>Description: Return the current state of 'Next' button;</p> <p>Returns: <code>boolean</code>: Returns <code>true</code> if pressed and <code>false</code> if not pressed</p>"},{"location":"InterpreterLegacy/#getkeyspressed","title":"<code>getKeysPressed()</code>","text":"<p>Restriction: Works only in Cardputer</p> <p>Description: Returns the current state of the keys pressed on the M5Cardputer.</p> <p>Returns: <code>string[]</code>: An array of strings representing the pressed keys. Possible values include \"Delete\", \"Enter\", \"Alt\", \"Tab\", \"Function\", \"Option\", or the actual key character.</p>"},{"location":"InterpreterLegacy/#storage-functions","title":"Storage functions","text":""},{"location":"InterpreterLegacy/#storagereadfilename-string-string","title":"<code>storageRead(filename : string) : string</code>","text":"<p>Description: Read a small text file with a single call (&lt;4kb).</p> <p>Parameters:</p> <ul> <li><code>filename</code> (string): file pathname to read.</li> </ul> <p>Returns: <code>string</code>. File contents, or empty string if not found or any other error.</p>"},{"location":"InterpreterLegacy/#storagewritefilename-string-data-string","title":"<code>storageWrite(filename : string, data : string)</code>","text":"<p>Description: Write a small text file. Append if file exist.</p> <p>Parameters:</p> <ul> <li><code>filename</code> (string): path of the file to write.</li> <li><code>data</code> (string): string to write.</li> </ul> <p>Returns: <code>boolean</code>: Returns <code>true</code> if successfull or <code>false</code> if failed</p>"},{"location":"InterpreterLegacy/#serial-functions","title":"Serial functions","text":""},{"location":"InterpreterLegacy/#printmessage-string","title":"<code>print(message: string)</code>","text":"<p>Description: Prints the given message to the Serial monitor.</p> <p>Parameters: - <code>message</code> (string): The message to print.</p> <p>Returns: <code>void</code></p>"},{"location":"InterpreterLegacy/#serialreadlntimeout_in_ms-number","title":"<code>serialReadln(timeout_in_ms : number)</code>","text":"<p>Description: Read a single line from the serial terminal;</p> <p>Parameters:</p> <ul> <li><code>timeout_in_ms</code> (number): timeout in milli-seconds. Defaults to 10s if unspecified.</li> </ul> <p>Returns: <code>string</code>: Returns the line received</p>"},{"location":"InterpreterLegacy/#serialcmdcmd-string","title":"<code>serialCmd(cmd : string)</code>","text":"<p>Description: Execute a supported serial command (see the list here);</p> <p>Parameters:</p> <ul> <li><code>cmd</code> (string): serial command to execute.</li> </ul> <p>Returns: <code>boolean</code>: Returns <code>true</code> if successfull or <code>false</code> if command failed</p>"},{"location":"InterpreterLegacy/#audio-functions","title":"Audio functions","text":""},{"location":"InterpreterLegacy/#playaudiofilefilename-string","title":"<code>playAudioFile(filename : string)</code>","text":""},{"location":"InterpreterLegacy/#tonefrequency-number","title":"<code>tone(frequency : number)</code>","text":""},{"location":"InterpreterLegacy/#tonefrequency-number-duration-number","title":"<code>tone(frequency : number, duration : number)</code>","text":""},{"location":"InterpreterLegacy/#ir-functions","title":"IR functions","text":""},{"location":"InterpreterLegacy/#irtransmitfilefilename-string","title":"<code>irTransmitFile(filename : string)</code>","text":""},{"location":"InterpreterLegacy/#irtransmitdata-string-protocol-string-nec-bits-int-32","title":"<code>irTransmit(data: string, protocol : string = \"NEC\", bits: int = 32)</code>","text":""},{"location":"InterpreterLegacy/#irreadtimeout_in_seconds-number-string","title":"<code>irRead(timeout_in_seconds : number) : string</code>","text":""},{"location":"InterpreterLegacy/#irreadrawtimeout_in_seconds-number-string","title":"<code>irReadRaw(timeout_in_seconds : number) : string</code>","text":""},{"location":"InterpreterLegacy/#subghzrf-functions","title":"SubGhz/RF functions","text":""},{"location":"InterpreterLegacy/#subghztransmitfilefilename-string","title":"<code>subghzTransmitFile(filename : string)</code>","text":""},{"location":"InterpreterLegacy/#subghztransmitsubghztransmitdata-string-frequency-int-433920000-te-int-174-count-int-10","title":"<code>subghzTransmit(subghzTransmit(data : string, frequency : int = 433920000, te : int = 174, count : int = 10))</code>","text":""},{"location":"InterpreterLegacy/#subghzreadtimeout_in_seconds-number-string","title":"<code>subghzRead(timeout_in_seconds : number) : string</code>","text":""},{"location":"InterpreterLegacy/#subghzreadrawtimeout_in_seconds-number-string","title":"<code>subghzReadRaw(timeout_in_seconds : number) : string</code>","text":""},{"location":"InterpreterLegacy/#subghzsetfrequencyfreq-float","title":"<code>subghzSetFrequency(freq : float)</code>","text":""},{"location":"InterpreterLegacy/#badusb-functions","title":"Badusb functions","text":""},{"location":"InterpreterLegacy/#badusbsetup","title":"<code>badusbSetup()</code>","text":""},{"location":"InterpreterLegacy/#badusbrunfilefilename-string","title":"<code>badusbRunFile(filename : string)</code>","text":""},{"location":"InterpreterLegacy/#badusbprintmsg-string","title":"<code>badusbPrint(msg : string)</code>","text":""},{"location":"InterpreterLegacy/#badusbprintlnmsg-string","title":"<code>badusbPrintln(msg : string)</code>","text":""},{"location":"InterpreterLegacy/#badusbpresskeycode-number","title":"<code>badusbPress(keycode : number)</code>","text":"<p>keycodes list</p>"},{"location":"InterpreterLegacy/#badusbholdkeycode-number","title":"<code>badusbHold(keycode : number)</code>","text":""},{"location":"InterpreterLegacy/#badusbreleasekeycode-number","title":"<code>badusbRelease(keycode : number)</code>","text":""},{"location":"InterpreterLegacy/#badusbreleaseall","title":"<code>badusbReleaseAll()</code>","text":""},{"location":"InterpreterLegacy/#badusbpressrawhid_key-number","title":"<code>badusbPressRaw(hid_key : number)</code>","text":"<p>TinyUSB's HID_KEY_* macros</p>"},{"location":"InterpreterTypescript/","title":"InterpreterTypescript","text":""},{"location":"InterpreterTypescript/#manual-for-coding-in-typescript-to-bruce","title":"Manual for Coding in TypeScript to Bruce","text":"<p>To create a new Bruce application with TypeScript support and modern JavaScript (ES6+) features, use the interactive setup wizard (you need to have node.js installed):</p> <pre><code>npx create-bruce-app@latest\n</code></pre> <p>Once the setup is complete, navigate to your project folder and start the application:</p> <pre><code>cd my-bruce-app\nnpm run start\n</code></pre> <p>You can use <code>pnpm</code> or <code>yarn</code> instead of <code>npm</code> if preferred.</p>"},{"location":"InterpreterTypescript/#important-javascript-compatibility","title":"Important: JavaScript Compatibility","text":"<p>If you use the setup wizard (<code>npx create-bruce-app@latest</code>), your project will support TypeScript and modern JavaScript features like:</p> <ul> <li>\u2705 TypeScript support \u2013 Write safer, more maintainable code.</li> <li>\u2705 Function IntelliSense \u2013 See available functions, expected parameters, and documentation directly in your editor.</li> <li>\u2705 Error checking \u2013 Get warnings and errors when using functions incorrectly.</li> <li>\u2705 Modern JavaScript features like:</li> <li>\u2705 <code>let</code> and <code>const</code>.</li> <li>\u2705 <code>for...of</code> loops.</li> <li>\u2705 Arrow functions (<code>() =&gt; {}</code>).</li> <li>\u2705 External npm module imports (<code>import isEven from \"is-even\";</code>).</li> <li>\u274c No <code>Object.entries()</code>, <code>Promise</code>, <code>async/await</code>, <code>setInterval</code>, <code>setTimeout</code> (for now).</li> </ul>"},{"location":"InterpreterTypescript/#uploading-your-scripts-to-bruce","title":"Uploading Your Scripts to Bruce","text":"<p>When uploading scripts to Bruce, keep in mind:</p> <ul> <li>Only JavaScript (<code>.js</code>) files can be uploaded.</li> <li>If you have TypeScript (<code>.ts</code>) files, you must first compile it to JavaScript (<code>.js</code>).</li> <li>The setup wizard automatically compiles TypeScript to JavaScript when you build your project. The <code>.js</code> file will be in <code>bundle/</code> folder.</li> </ul> <p>If you need TypeScript or modern JavaScript features, always create your project using the setup wizard.</p>"},{"location":"Others/","title":"Others","text":""},{"location":"Others/#sd-card-mngr","title":"SD Card Mngr","text":"<p>Create Folders or Rename, Copy (to LittleFS also) and Delete files.</p>"},{"location":"Others/#littlefs-mngr","title":"LittleFS Mngr","text":"<p>Delete, Copy, Rename or Read files from LittleFS.</p>"},{"location":"Others/#webui","title":"WebUI","text":"<p>Make you device as an AP or connect to a network to use the WebUI, with this you can manage your files on the SD card and also LittleFS Before setting up, you need to access http://bruce.local with the credentials on screen to have access to the manager.</p>"},{"location":"Others/#gps-tracker","title":"GPS Tracker","text":"<p>Use a GPS module to track the device. It creates a .gpx file that can be uploaded to online gpx viewers like GPX Studio and GPS Visualizer or to any gpx viewer app to view the route on a map.</p>"},{"location":"Others/#badusb","title":"BadUSB","text":"<p>Only DuckyScript payloads are supported!! for more info on creating your own DuckyScripts read here</p> <p>To choose a payload for the BadUSB on Cardputer instead of getting rickrolled, you need to create a file on the SD card root directory ending with \".txt\". You can then select which payload that will be sent when the Cardputer is connected via USB cable.</p> <p>Other methods to run badusb scripts:</p> <ol> <li>via the SDCard/LittleFS file manager in the \"Others\" menu (select a <code>.txt</code> file)</li> <li>remotely via the WebUI, click on the antenna-like button next to the file</li> <li>via a serial cmd like <code>badusb run_from_file HelloWorld.txt</code></li> </ol>"},{"location":"Others/#using-bad-usb-on-stickcs-and-corecore2-devices","title":"Using Bad USB on StickCs and Core/Core2 devices","text":"<p>You will need to use a CH9329 module such as this  or this  to run the Bad USB in your device, wiring it into the Grove connector like this:</p> <p></p>"},{"location":"Others/#led-control","title":"Led control","text":"<p>Control ESP32 S3 Stamp RGB LED, with the options purple, white, red, green and blue to extra style, also led flash blinks the LED.</p>"},{"location":"Others/#openhaystack","title":"Openhaystack","text":"<p>This is a little more complex to setup but basically you can use this repository to generate a AirTag public key encoded in base64. Then to work for Bruce, you should get your Public key decoded with base64 and save it on a file on the SD root called \"pub.key\". To create pub.key file you should run this in bash: <pre><code>base64 -d &lt;&lt;&lt; \"your_base64_public_key\"|tee pub.key\n</code></pre></p>"},{"location":"Others/#ibutton","title":"iButton","text":""},{"location":"Others/#clicker","title":"Clicker","text":"<p>USB Mouse clicker that you can control the delay between the clicks, this is usually used to cheat in some clicker games.</p>"},{"location":"Others/#interpreter","title":"Interpreter","text":"<p>Head over to the Interpreter Section.</p>"},{"location":"Others/#qrcodes","title":"QRCodes","text":"<p>You can display QR codes for the Bruce AP, or any given string.</p>"},{"location":"RF/","title":"Scan/Copy","text":"<p>Scan and copy RF signals in ASK/OOK modulation. It will start with the default frequency (433Mhz, common for M5 RF433R and FS1000A modules).</p>"},{"location":"RF/#mode","title":"Mode","text":"<p>Decode: tries to decode the signal with RCSwitch decoder RAW: Will display RAW signals obtained from RCSwitch library.</p>"},{"location":"RF/#filter","title":"Filter","text":"<p>Code: On Decode mode, it will only display decoded signals. more reliable in noisy environments All: will capture Decoded and RAW signals</p>"},{"location":"RF/#replay","title":"Replay","text":"<p>Send the last signal captured by Bruce.</p>"},{"location":"RF/#save","title":"Save","text":"<p>Stores the signal into ./BruceRF of your SD Card or LittleFS**</p>"},{"location":"RF/#cc1101-only-menu","title":"CC1101 only menu","text":""},{"location":"RF/#range","title":"Range","text":"<p>Choose the frequency to scan or a range to detect the frequency</p>"},{"location":"RF/#threshold","title":"Threshold","text":"<p>Choose the sensibility of the scanner.  -60 to a more strict error frequency (more precise) -80 to a more broad frequency (greater error, less precise)</p>"},{"location":"RF/#record-raw","title":"Record Raw","text":"<p>Records RAW signal using ESP32 RMT driver, displaying the raw signal obtained in a few seconds of capture. The recording will start once it detects a minimum signal on the input. If using CC1101, you can choose the frequency you want to record. In this function you can Save, and replay signals.</p>"},{"location":"RF/#custom-subghz-limited-compatibility","title":"Custom SubGhz (limited compatibility)","text":"<p>Transmits signals stored in .sub files, they can be the ones saved by Bruce in the BruceRF folder or others downloaded from internet.</p>"},{"location":"RF/#spectrum-analysis","title":"Spectrum Analysis","text":"<p>Displays waveform signals if RF frequencies are detected.</p>"},{"location":"RF/#squarewave-spectrum","title":"Squarewave Spectrum","text":"<p>When signals are detected, it displays a squarewave based on the timings of the signal.</p>"},{"location":"RF/#jammer-full","title":"Jammer Full","text":"<p>Starts a full square signal on the output, jamming the RF spectrum in the 433Mhz area, or in the RF Frequecy set in the Config Menu (if using CC1101)</p>"},{"location":"RF/#jammer-intermittent","title":"Jammer Intermittent","text":"<p>Starts a PWM signal on the output, jamming the signal, not harming the transmitter, if listening to the frequency with a radio, yo\u00b4'll be able to hear a \"weeeoooooiiiiiioooooeeee\" sound</p>"},{"location":"RF/#config","title":"Config","text":""},{"location":"RF/#rf-tx-pin-and-rf-rx-pin","title":"RF TX Pin and RF RX Pin","text":"<p>If using M5Stack, FS1000A or other single pin module to transmit the signal, here is where you can choose the pin</p>"},{"location":"RF/#rf-module","title":"RF Module","text":""},{"location":"RF/#m5-rf433tr","title":"M5 RF433T/R","text":"<p>M5 RF433T/R modules or unofficial modules.</p>"},{"location":"RF/#cc1101","title":"CC1101","text":"<p>If you are using a StickCPlus (1.1 or 2), you will be presented to two options of CC1101</p>"},{"location":"RF/#cc1101-legacy","title":"CC1101 (legacy)","text":"<p>This setup is designed to use only the CC1101 in the bus, using THIS setup</p>"},{"location":"RF/#cc1101-shared-spi","title":"CC1101 (Shared SPI)","text":"<p>This setup is designed to share the SPI bus with the SD Card, but in this case you ned to add a transistor into the circuit, using THIS Setup</p>"},{"location":"RF/#supported-modules","title":"Supported Modules","text":""},{"location":"RF/#official-modules","title":"Official Modules","text":"<ul> <li>M5Stack RF433R and RF433T</li> <li>Frequency: Fixed at 433MHz</li> <li>Modulation: Only ASK/OOK</li> <li> <p>Connection: Easier to connect</p> </li> <li> <p>CC1101 SPI Module</p> </li> <li>Frequency Range: Supports multiple frequencies and modulations</li> <li>Connection: More complicated, can be tested with exti/o2 from M5Stack</li> </ul>"},{"location":"RF/#unofficial-modules","title":"Unofficial Modules","text":"<ul> <li>FS1000A Transmitter + XY-MK-5V Receiver</li> <li>Frequency: Fixed (usually 433MHz)</li> <li>Modulation: Only ASK/OOK</li> <li> <p>Note: Also sold under various names</p> </li> <li> <p>Other Single-Pinned Modules</p> </li> <li>Comparison of Cheap RF Modules</li> </ul> <p></p> <p>Note: Some modules may have poor range; modifying the antenna can improve performance.</p> <p>Default Pins:  - <code>Tx = GROVE_SDA</code> - <code>Rx = GROVE_SCL</code></p>"},{"location":"RF/#unsupportednot-working","title":"Unsupported/Not Working","text":"<ul> <li>HC-11</li> <li>HC-12</li> <li>LoRa modules</li> </ul>"},{"location":"RF/#replay-payloads-like-flipper","title":"Replay Payloads Like Flipper!","text":"<p>Bruce can now send raw formats similar to those supported in this repository.</p>"},{"location":"RF/#methods-to-transmit-sub-files","title":"Methods to Transmit <code>.sub</code> Files:","text":"<ol> <li>Via the Custom SubGhz app in the RF menu.</li> <li>Via the SDCard/LittleFS file manager in the Files menu.</li> <li>Via the WebUI by clicking the antenna-like button next to the file.</li> <li>Via a serial command, such as:</li> </ol>"},{"location":"RFID/","title":"RFID","text":""},{"location":"RFID/#rfid-and-nfc-overview","title":"RFID and NFC Overview","text":"<p>RFID (Radio Frequency Identification) is a technology that utilizes electromagnetic fields to automatically identify and track tags attached to objects. These tags store electronically encoded information that can be read by an RFID reader. RFID is commonly employed in various applications, including inventory management, access control, and transportation systems.</p> <p>NFC (Near Field Communication) is a subset of RFID technology that operates over shorter distances, typically within a few centimeters. NFC enables devices to communicate by bringing them close together, making it ideal for contactless payments, data sharing between devices, and smart access systems.</p>"},{"location":"RFID/#types-of-rfid-tags-writable-vs-clonable","title":"Types of RFID Tags: Writable vs. Clonable","text":""},{"location":"RFID/#writable-rfid-tags","title":"Writable RFID Tags","text":"<p>Writable RFID tags allow users to modify the data stored on the tag, facilitating dynamic information updates. However, these tags typically do not permit writing to Block 0, which usually contains manufacturer data or unique identifiers.</p>"},{"location":"RFID/#clonable-rfid-tags","title":"Clonable RFID Tags","text":"<p>Clonable RFID tags pose a security risk, as cloning involves creating a duplicate of the tag's information. This can lead to unauthorized access or fraudulent activities. Cloning often requires writing to Block 0, necessitating a special type of tag that supports this capability.</p>"},{"location":"RFID/#common-types-of-rfid-and-nfc-tags","title":"Common Types of RFID and NFC Tags","text":"<ul> <li>MIFARE Classic 1k/4k: Operates at 13.56MHz and offers 1KB or 4KB of memory storage. Commonly used in access control systems, transportation, and loyalty programs. You can find clonable versions of these tags here.</li> <li>NTAG Series: Popular NFC tag types, such as NTAG213 and NTAG215, operate at 13.56MHz and are known for their compatibility with a wide range of NFC-enabled devices and applications. These tags support NDEF records that can be interpreted by smartphones.</li> <li>EM4100 and T5557: RFID protocols operating at 125kHz, commonly used for low-frequency access control systems, identification badges, key fobs, asset tracking, and other proximity-based identification applications.</li> </ul>"},{"location":"RFID/#supported-modules","title":"Supported Modules","text":"<ul> <li>RFID 13.56MHz</li> <li>M5Stack RFID2 module</li> <li>MFRC-522 - via I2C (Select <code>M5 RFID2</code> in the config menu)</li> <li> <p>PN532 - via I2C, SPI, or BLE</p> </li> <li> <p>RFID 125kHz</p> </li> <li>RDM6300 (Connection Schema)</li> </ul>"},{"location":"RFID/#features","title":"Features","text":""},{"location":"RFID/#rfid-1356mhz","title":"RFID 13.56MHz","text":"<ul> <li>[x] Read</li> <li>[x] Write</li> <li>[x] Clone</li> <li>[x] Write NDEF Records (NFC tags only)</li> <li>[x] Erase</li> <li>[x] Save file</li> <li>[x] Load file</li> </ul>"},{"location":"RFID/#rfid-125khz","title":"RFID 125kHz","text":"<ul> <li>[x] Read</li> <li>[x] Save file</li> </ul>"},{"location":"Serial/","title":"Serial","text":"<p>Bruce also accept command inputs via serial port after https://github.com/pr3y/Bruce/pull/84.</p> <p>List of supported commands: <pre><code>ir, subghz, music_player, say, led, power, clock, screen, color, tone, gpio, i2c, storage, settings, factory_reset, badusb, js, crypto, uptime, date, free, info, webui, loader\n</code></pre></p> <p>Most of these commands are compatible with the Flipper Zero CLI.</p>"},{"location":"Serial/#how-to-send-commands","title":"How to send commands","text":"<ul> <li>via the Arduino IDE Serial Monitor, Putty, or any other serial terminal app</li> <li>via the terminal/a bash script: <code>echo \"say My name is Bruce\" | busybox microcom -s 115200 /dev/ttyACM0  -t 1000</code></li> <li>via a python script</li> <li>from a smartphone using SerialManager or Serial USB Terminal</li> <li>via the WebUI \"SerialCmd\" button</li> <li>after starting the WebUI, with <code>curl -XPOST \"http://bruce.local/cm\" -d \"cmnd=say My name is Bruce\"</code></li> </ul> <p>Serial connection settings:</p> <ul> <li>Speed: 115200</li> <li>8 data bits, 1 stop bit, no parity, no Flow Control</li> </ul>"},{"location":"Serial/#reference","title":"Reference","text":"<p>(incomplete)</p> Full command Arguments Description Alias <code>ir rx</code> <code>&lt;timeout&gt;</code> (in seconds, defaults to 10s if missing) Read an IR signal and print the dump on serial. <code>ir rx raw</code> <code>&lt;timeout&gt;</code> (in seconds, defaults to 10s if missing) Read an IR signal in RAW mode and print the dump on serial. <code>ir tx</code> <code>&lt;protocol&gt; &lt;address&gt; &lt;decoded_value&gt;</code> Send a custom decoded IR signal. <code>ir tx_from_file</code> <code>&lt;ir file path&gt;</code> Send an IR signal saved in storage. <code>subghz rx</code> <code>&lt;timeout&gt;</code> (in seconds, defaults to 10s if missing) Read an RF signal and print the dump on serial. <code>rf rx</code> <code>subghz rx raw</code> <code>&lt;timeout&gt;</code> (in seconds, defaults to 10s if missing) Read an RF signal in RAW mode and print the dump on serial. <code>rf rx raw</code> <code>subghz tx</code> <code>&lt;decoded_value&gt; &lt;frequency&gt; &lt;te&gt; &lt;count&gt;</code> Send a custom decoded RF signal. <code>rf tx</code> <code>subghz tx_from_file</code> <code>&lt;sub file path&gt;</code> Send an RF signal saved in storage. <code>music_player</code> <code>&lt;audio file path&gt;</code> Play an audio file (speaker req.). <code>play</code> <code>tone</code> <code>&lt;frequency&gt; &lt;duration&gt;</code> Play a single squarewave audio tone  (speaker req.) <code>beep</code> <code>say</code> <code>&lt;text&gt;</code> Text-To-Speech (speaker req.) <code>led</code> <code>&lt;r/g/b&gt; &lt;0-255&gt;</code> Change UI main color <code>power</code> <code>&lt;off/reboot/sleep&gt;</code> General power management <code>clock</code> show the clock UI <code>gpio mode</code> <code>&lt;pin number&gt; &lt;0/1&gt;</code> set GPIO pins mode (0=input, 1=output). <code>gpio set</code> <code>&lt;pin number&gt; &lt;0/1&gt;</code> Direct GPIO pins control (0=off, 1=on). <code>i2c scan</code> scan for modules connected to the I2C bus. List the results on serial. <code>storage</code> <code>&lt;list/remove/mkdir/rename/read/write/copy/md5/crc32&gt;</code> <code>&lt;file path&gt;</code> Common file management commands. Path must always be relative to the root. Defaults to SD card if found. <code>ls, dir, md, ren, cat, type, cp, md5, crc32</code> <code>settings</code> view all the current settings <code>set</code> <code>settings</code> <code>&lt;name&gt;</code> view a single setting value <code>set</code> <code>settings</code> <code>&lt;name&gt; &lt;new value&gt;</code> alter a single setting value <code>set</code> <code>factory_reset</code> Reset bruce.conf to the defaults"},{"location":"Serial/#examples","title":"Examples","text":"<p>text-to-speech (req. a speaker): <pre><code>say My name is Bruce\n</code></pre></p> <p>play doom music (req. a speaker): <pre><code>music_player doom:d=4,o=5,b=112:16e4,16e4,16e,16e4,16e4,16d,16e4,16e4,16c,16e4,16e4,16a#4,16e4,16e4,16b4,16c,16e4,16e4,16e,16e4,16e4,16d,16e4,16e4,16c,16e4,16e4,a#4,16p,16e4,16e4,16e,16e4,16e4,16d,16e4,16e4,16c,16e4,16e4,16a#4,16e4,16e4,16b4,16c,16e4,16e4,16e,16e4,16e4,16d,16e4,16e4,16c,16e4,16e4,a#4,16p,16a4,16a4,16a,16a4,16a4,16g,16a4,16a4,16f,16a4,16a4,16d#,16a4,16a4,16e,16f,16a4,16a4,16a,16a4,16a4,16g,16a4,16a4,16f,16a4,16a4,d#\n</code></pre></p> <p>sleep <pre><code>power sleep\n</code></pre></p> <p>turn off my LG TV via a decoded NEC code: <pre><code>ir tx NEC 04000000 08000000\n</code></pre></p> <p>turn off my LG AC via a RAW IR file (already stored on the FS): <pre><code>ir tx_from_file AC_LG_SX122CL_off.ir\n</code></pre></p> <p>turn on a remote-controlled power socket from a decoded Sub file (already stored on the FS): <pre><code>subghz tx_from_file plug1_on.sub\n````\n\nsend a custom rf command (format `{3-byte hex_key} {frequency} {te} {count}`):\n````\nsubghz tx 445533 433920000 174 10\n````\n\nexecute a badusb script (already stored on the FS):\n</code></pre> badusb run_from_file HelloWorld.txt ```</p> <p>set a pin in (digital) output mode (only on unused GPIO pins, using Arduino <code>pinMode()</code>): <code>gpio mode 2 0</code></p> <p>sets the a pin's value (only on unused GPIO pins, using Arduino <code>digitalWrite()</code>): <code>gpio set 2 0</code></p> <p>read a pin's value (only on unused GPIO pins, using Arduino <code>digitalRead()</code>): <code>gpio read 2</code></p> <p>read a file content, and output on the console: <code>storage read BruceRF/bruce_0.sub</code></p> <p>list files on the root (SD card if present, LittleFS otherwise): <code>storage list /</code></p> <p>delete a file: <code>storage remove BruceRF/bruce_0.sub</code></p> <p>scan connected I2C devieces: <code>i2c</code></p> <p>View currently-active settings: <code>settings</code></p> <p>Change the radio module setting: <code>settings RfModule 1</code></p> <p>Reset settings to the default: <code>factory_reset</code></p> <p>NOTE: filenames are case-sensitive on LittleFS only, and cannot contain spaces/escape chars.</p>"},{"location":"Wardriving/","title":"Wardriving","text":"<p>Wardriving in Bruce is possible after this PR, so if you have a GPS module from M5stack you can start wardriving and check for the .csv that can be uploaded to Wigle also!</p> <p>WiGLE (Wireless Geographic Logging Engine) is an online platform that collects and maps Wi-Fi and cellular network data globally. Users can upload network data they encounter, view coverage maps, and search for specific networks.</p>"},{"location":"Wardriving/#how-to-use-wigle-daily","title":"How to Use WiGLE Daily","text":"<p>1 - Network Mapping: Find and map Wi-Fi networks in specific areas, useful for wardriving or security studies.</p> <p>2 - Coverage Analysis: Check Wi-Fi coverage in public or commercial locations.</p> <p>3 - Security: Identify insecure or misconfigured networks.</p> <p>4 - Research: Used by researchers to analyze network patterns and security.</p>"},{"location":"Wardriving/#how-to-begin","title":"How to begin","text":"<p>1 - Create an Account: WiGLE.net</p> <p>2 - Join the Group \"Bruce\": Search for Bruce and select \"Join\". Group Stats</p>"},{"location":"Wardriving/#how-to-upload","title":"How to upload","text":""},{"location":"Wardriving/#bruce-pr-232","title":"BRUCE - PR 232:","text":"<p>1 - Go to the website Wiggle Account, select the API Token option and copy the entire token from  \"Encoded for use\". (Be careful, this token should not be shared with anyone)</p> <p>2 - Insert the token copied from your Wigle account into the \"wigleBasicToken\" line of the \"bruce.conf\" file at the root of your SD card.</p> <p>3 - Select menu Others &gt; SD Card &gt; BruceWardriving &gt; timestamp_wardriving.csv</p> <p>4 - Select the \"Wigle Upload\" option.</p> <p>5 - Select your WiFi network.</p> <p>6 - Wait for the file to be sent. A loading bar should appear with information at the end saying that the file has been uploaded.</p> <p>7 - Shark, you have already collaborated, whenever you find new wifi networks in wardriving, just upload the file.</p>"},{"location":"Wardriving/#website-wigle","title":"WEBSITE WIGLE:","text":"<p>1 - Upload File: Upload \"file_name_wardriving.csv\" in \"Uploads\" and wait, WiGLE.net may take a few hours to process the file queue. Uploads</p> <p>2 - Shark, you have already collaborated, whenever you find new wifi networks in wardriving, just upload the file.</p>"},{"location":"Wardriving/#tip","title":"Tip","text":"<p>On the \"Statistics: Manufacturer &gt; SSID/Manufacturer\" page (SSID Stats), you can find a list of the most used Wi-Fi network names globally, which can inspire ideas for Bruce's Evil Portal (Evil Portal).</p> <p>@IncursioHack</p>"},{"location":"WiFi/","title":"WiFi","text":""},{"location":"WiFi/#wifi-atks","title":"WiFi Atks","text":""},{"location":"WiFi/#connect-wifi","title":"Connect Wifi","text":"<p>Connects into a chosen network, it will allow you to use TCP Listener, ARP Poisoning, Station Deauth, TelNet, SSH and Scan Hosts functions.</p>"},{"location":"WiFi/#wifi-ap","title":"WiFi AP","text":"<p>Launches an Access point, so you can connect up to 4 guests to share information between each other.</p>"},{"location":"WiFi/#wifi-atks_1","title":"Wifi Atks","text":""},{"location":"WiFi/#target-atks","title":"Target Atks","text":"<p>Scans for a WiFi AP to either:  * get more information of it (MAC and channel),  * Send Deauth frames,  * Clone AP name and make a Evil Portal , * Deauth + Clone * Deauth + Clone and verify, in case you are trying to get password of a WiFi network.</p>"},{"location":"WiFi/#beacon-spam","title":"Beacon Spam","text":"<p>Spams SSID frames in the air.</p>"},{"location":"WiFi/#funny-ssid","title":"Funny SSID","text":"<p>Spams a list of funny hardcoded SSID names.</p>"},{"location":"WiFi/#rick-roll","title":"Rick Roll","text":"<p>Spams Rick Roll lyrics in SSID names.</p>"},{"location":"WiFi/#random-ssid","title":"Random SSID","text":"<p>Spams random SSIDs, composed by random numbers and letters.</p>"},{"location":"WiFi/#custom-ssid","title":"Custom SSID","text":"<p>Spams a list of SSIDs writen in a .txt file. There must be  * One SSID per line  * Up to 32 characters per SSID * as many SSID you want <pre><code>My SSID\nYour SSID\nHis SSID\netc...\n</code></pre></p>"},{"location":"WiFi/#deauth-flood","title":"Deauth Flood","text":"<p>Foods Deauth packets to all Access Points it can find.</p>"},{"location":"WiFi/#evil-portal","title":"Evil Portal","text":"<p>In EVIL Portal mode, BRUCE reads the keyboard input for the SSID and activates a open WiFi, with DNS, DHCP and Web servers activated.  * EVIL Portal serves a fake login page that claims to provide internet access if you log in. * This is a social engineering attack, and will log the username and passwords entered on the page.  * You can type the ssid before and change the current SSID by connecting to the portal from your own device and browsing to http://172.0.0.1/creds or http://172.0.0.1/ssid * If your device has an SD Card reader with a FAT filesystem formatted card inserted, the usernames and passwords will be logged to Bruce_creds.csv on the SD Card for you to peruse later.  * SD Card support is only enabled by default on the M5Stack Cardputer platform. It can be enabled on M5Stick devices but an SD Card reader must be built and attached to the front panel pin header. New features, SPIFFS and SDCard * For examples of portals you can check https://github.com/pr3y/Bruce/tree/main/sd_files</p>"},{"location":"WiFi/#setting-ap-name-from-html","title":"Setting AP Name from HTML","text":""},{"location":"WiFi/#overview","title":"Overview","text":"<p>The <code>EvilPortal</code> system now supports the ability to define an Access Point (AP) name directly within your HTML files. By including a specific tag in the first line of your HTML file, the system will automatically extract and set the AP name, streamlining the setup process.</p>"},{"location":"WiFi/#how-it-works","title":"How It Works","text":"<ol> <li> <p>Add the following tag in the first line of your HTML file: <pre><code>&lt;!-- AP=\"YourCustomAPName\" --&gt;\n</code></pre>    Replace <code>YourCustomAPName</code> with the desired name for your Access Point.  </p> </li> <li> <p>When the HTML file is loaded, the system will:  </p> </li> <li>Parse the first line of the file.  </li> <li>Detect the <code>AP=\"...\"</code> tag.  </li> <li> <p>Extract the value and set it as the AP name.  </p> </li> <li> <p>If the tag is not present it will ask you for AP name (as usual).</p> </li> </ol>"},{"location":"WiFi/#example-html-file","title":"Example HTML File","text":"<pre><code>&lt;!-- AP=\"MyCoolNetwork\" --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;EvilPortal&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Welcome to EvilPortal!&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <ul> <li>In this example, the AP name will automatically be set to MyCoolNetwork.</li> </ul>"},{"location":"WiFi/#benefits","title":"Benefits","text":"<ul> <li>Dynamic Configuration: Easily customize AP names without modifying code.  </li> <li>Ease of Use: Set up AP names directly in your HTML files for faster deployment.  </li> </ul>"},{"location":"WiFi/#notes","title":"Notes","text":"<ul> <li>Ensure the <code>&lt;!-- AP=\"...\" --&gt;</code> tag is in the very first line of the file.  </li> <li>The feature does not affect the functionality of other HTML content.</li> </ul>"},{"location":"WiFi/#tcp-listener","title":"TCP Listener","text":"<p>Listen for incoming TCP connections on a specified port. It waits for client connections, allowing the device to act as a server and handle communication with connected clients.</p>"},{"location":"WiFi/#tcp-client","title":"TCP Client","text":"<p>Allows the ESP32 to connect to a remote server as a client over TCP. You can configure the target server's IP address and port, enabling data transmission to and from the server.</p>"},{"location":"WiFi/#telnet","title":"TelNet","text":"<p>Connect to TelNet servers and execute remote commands.</p>"},{"location":"WiFi/#ssh","title":"SSH","text":"<p>Connect to SSH servers and execute remote commands.</p>"},{"location":"WiFi/#dpwo-esp32","title":"DPWO-ESP32","text":"<p>Searches for default credentials for some router operators more info here</p>"},{"location":"WiFi/#raw-sniffer","title":"RAW Sniffer","text":"<p>Saves .pcap to SD card with raw monitoring, you can also select for it to save only EAPOL/HandShakes and stop spamming deauth packets to detected beacons previously detected.</p>"},{"location":"WiFi/#scan-hosts","title":"Scan Hosts","text":"<p>Does a ARP scan on current network based on the mask (equivalent to arp -a), after that it will list every host online, then you can select some host to have a TCP port scan on selected ports (20, 21, 22, 23, 25, 80, 137, 139, 443, 3389, 8080, 8443, 9090 and more), as seen in \"ports\" variable on scan_hosts.cpp and let you choose a target host attack such as:</p>"},{"location":"WiFi/#host-info","title":"Host Info","text":"<p>Discover open ports (20, 21, 22, 23, 25, 80, 137, 139, 443, 3389, 8080, 8443, 9090 and more) on the Host</p>"},{"location":"WiFi/#ssh-connect","title":"SSH Connect","text":"<p>Tries to connect into the Host using SSH.</p>"},{"location":"WiFi/#station-deauth","title":"Station Deauth","text":"<p>Spams deauth frames targetted to this particular device</p>"},{"location":"WiFi/#arp-spoofing","title":"ARP Spoofing","text":"<ul> <li>Sends fake ARP Resonses to the host and to the Gateway, provoking communication interruption. this is the fist step of a Man-In-The-Middle attack using the 2nd OSI layer vulnerability.</li> </ul>"},{"location":"WiFi/#arp-poisoning","title":"ARP Poisoning","text":"<p>Sends fale ARP responses to all hosts and to the gateway with random MAC addresses. It can possibly cause CAOS in the network, as all devices won't find the gateway to communicate.</p>"},{"location":"WiFi/#wireguard-tunneling","title":"Wireguard Tunneling","text":"<p>To be able to connect to a wireguard tunnel with your cardputer easily, you need to have your .conf file and place on the SD card root directory called \"wg.conf\" If you don't know how to generate a .conf file for wireguard read here </p>"},{"location":"WiFi/#brucegotchi","title":"Brucegotchi","text":"<p>This feature does a lot of things at the same time, such as: - Pwngrid spam - Deauth nearby WiFi networks in different channels - Collect and save HandShakes (EAPOL)</p>"},{"location":"WiFi/#responder","title":"Responder","text":"<p>Responder is a well known tool for exploiting infrastructures, one of the things it does is LLMNR Poisoning, which is what this function in Bruce does (thanks to https://github.com/7h30th3r0n3)</p>"},{"location":"WiFi/#config","title":"Config","text":""},{"location":"WiFi/#add-evil-wifi","title":"Add Evil Wifi","text":"<p>Adds an SSID into the list so you can choose it with ease when opening an Evil Portal</p>"},{"location":"WiFi/#remove-evil-wifi","title":"Remove Evil Wifi","text":"<p>Deletes a previously added SSID.</p>"},{"location":"_Footer/","title":"Footer","text":"<p>hi im from undersea</p>"},{"location":"_Sidebar/","title":"Sidebar","text":"<ul> <li>Home</li> <li>What Is Bruce?</li> <li>What Is Bruce For?</li> <li>Building From Source</li> <li>VS Code</li> <li>Github</li> <li>Develop with Bruce</li> <li>Installing</li> <li>Interface</li> <li>bruce.conf</li> <li>Serial</li> <li>BLE</li> <li>Disconnect BLE</li> <li>BLE Scan</li> <li>BadBLE</li> <li>Media Commands</li> <li>NRF24 Jammer</li> <li>BLE Spam Features<ul> <li>iOS Spams</li> <li>SwiftPair Spamming</li> <li>Android Spam</li> <li>Samsung Devices</li> <li>Spam All</li> </ul> </li> <li>IR</li> <li>Supported Modules<ul> <li>Built-In Options</li> <li>Unofficial Modules</li> <li>Default Pinouts</li> <li>Request for Information</li> </ul> </li> <li>Unsupported/Non-Functional Modules</li> <li>Features</li> <li>Replay Payloads Like Flipper</li> <li>RF</li> <li>Supported Modules<ul> <li>CC1101</li> <li>Official Modules</li> <li>Unofficial Modules</li> </ul> </li> <li>Unsupported/Not Working</li> <li>Features</li> <li>Replay Payloads Like Flipper</li> <li>RFID</li> <li>Supported Modules</li> <li>Common Types of Tags</li> <li>Features</li> <li>Types of RFID Tags</li> <li>WiFi</li> <li>WiFi Atks</li> <li>Beacon Spam</li> <li>Target Atk</li> <li>Wardriving</li> <li>TelNet</li> <li>SSH</li> <li>RAW Sniffer</li> <li>DPWO-ESP32</li> <li>Evil Portal</li> <li>Scan Hosts</li> <li>Responder</li> <li>Brucegotchi</li> <li>TCP Listener</li> <li>TCP Client</li> <li>Wireguard Tunneling</li> <li>FM</li> <li>Supported modules</li> <li>Features</li> <li>Files</li> <li>LittleFS</li> <li>SD Card</li> <li>WebUI</li> <li>Mass Storage</li> <li>Others</li> <li>SD Card Mngr</li> <li>LittleFS Mngr</li> <li>WebUI</li> <li>GPS Tracker</li> <li>BadUSB</li> <li>Led Control</li> <li>Openhaystack</li> <li>iButton</li> <li>Clicker</li> <li>Interpreter</li> <li>FAQ</li> </ul>"},{"location":"bruce.conf/","title":"Bruce.conf","text":"<p>If there is no <code>bruce.conf</code> file on the SD card, Bruce will create this simple json file:</p> <pre><code>{\n  \"priColor\": \"a80f\",\n  \"secColor\": \"880f\",\n  \"bgColor\": \"0\",\n  \"rot\": 1,\n  \"dimmerSet\": 10,\n  \"bright\": 75,\n  \"tmz\": -3,\n  \"soundEnabled\": 1,\n  \"wifiAtStartup\": 0,\n  \"webUI\": {\n    \"user\": \"admin\",\n    \"pwd\": \"bruce\"\n  },\n  \"wifiAp\": {\n    \"ssid\": \"BruceNet\",\n    \"pwd\": \"brucenet\"\n  },\n  \"wifi\": {\n    \"Net1\": \"pwd1\",\n    \"Net2\": \"pwd2\"\n  },\n  \"irTx\": 2,\n  \"irRx\": 1,\n  \"rfTx\": 2,\n  \"rfRx\": 1,\n  \"rfModule\": 0,\n  \"rfFreq\": 433.9200134,\n  \"rfFxdFreq\": 1,\n  \"rfScanRange\": 3,\n  \"rfidModule\": 0,\n  \"wigleBasicToken\": \"\",\n  \"devMode\": 0\n}\n</code></pre> <p>Which will be used to persist the information between boots and even to M5Launcher when you finish running other applications that sometimes reuse EEPROM. Also there is now an option to set a default wifi to connect for default.</p> <p>TODO: Don't store pwd in cleartext :P</p>"}]}